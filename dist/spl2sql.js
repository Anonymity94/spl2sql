/**
 * spl2sql - Convert Splunk SPL to ClickHouse SQL with pegjs
 * @version v0.0.3
 * @author Anonymity94 <1176989591@qq.com>
 * @buildAt 2021-11-16T01:27:15.993Z
 * Released under the MIT License.
 **/
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(t="undefined"!=typeof globalThis?globalThis:t||self).splToSqlConverter=r()}(this,function(){"use strict";function bo(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,a=[],c=!0,i=!1;try{for(e=e.call(t);!(c=(n=e.next()).done)&&(a.push(n.value),!r||a.length!==r);c=!0);}catch(t){i=!0,o=t}finally{try{c||null==e.return||e.return()}finally{if(i)throw o}}return a}}(t,r)||function(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function Fo(t,r,e,n){this.message=t,this.expected=r,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,Fo)}function t(){this.constructor=r}var r,e;return r=Fo,e=Error,t.prototype=e.prototype,r.prototype=new t,Fo.buildMessage=function(t,r){var e,a={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){for(var r="",e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?c(t.parts[e][0])+"-"+c(t.parts[e][1]):c(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function c(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){for(var r,e,n=new Array(t.length),o=0;o<t.length;o++)n[o]=(e=t[o],a[e.type](e));if(n.sort(),0<n.length){for(r=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[r]=n[o],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+((e=r)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:Fo,parse:function(h,t){function u(t,r){return r&&r[1]&&0!==r.length?["",r[1]]:["",""]}function c(t,r){return t+" OR "+r}function a(t){return"("+t+")"}function i(t,r){var e=t.fieldName,n=t.fieldType,o=(t=mo(e,n)).paramKey,t=t.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return r.forEach(function(t,r){r=o+"_"+r;if(go(r,t),"IPv4"===n){if(!fo.test(t))throw Error("".concat(t,"不是个正确的IPv4"));a.push("toIPv4(".concat(r,")"))}else{if(!so.test(t))throw Error("".concat(t,"不是个正确的IPv6"));a.push("toIPv6(".concat(r,")"))}}),"`"+e+"` IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return go(o,r),"`"+e+"` IN ("+t+")";var c=[];return r.forEach(function(t,r){r=o+"_"+r;if(go(r,t),"Array<IPv4>"===n){if(!fo.test(t))throw Error("".concat(t,"不是个正确的IPv4"));c.push("toIPv4(".concat(r,")"))}else if("Array<IPv6>"===n){if(!so.test(t))throw Error("".concat(t,"不是个正确的IPv6"));c.push("toIPv6(".concat(r,")"))}else c.push(r)})," hasAny(`"+e+"`, ["+c.join(",")+"])=1"}function f(t,r){var e=t.fieldName,n=t.fieldType,o=(t=mo(e,n)).paramKey,t=t.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return r.forEach(function(t,r){r=o+"_"+r;if(go(r,t),"IPv4"===n){if(!fo.test(t))throw Error("".concat(t,"不是个正确的IPv4"));a.push("toIPv4(".concat(r,")"))}else{if(!so.test(t))throw Error("".concat(t,"不是个正确的IPv6"));a.push("toIPv6(".concat(r,")"))}}),"`"+e+"` NOT IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return go(o,r),"`"+e+"` NOT IN ("+t+")";var c=[];return r.forEach(function(t,r){r=o+"_"+r;if(go(r,t),"Array<IPv4>"===n){if(!fo.test(t))throw Error("".concat(t,"不是个正确的IPv4"));c.push("toIPv4(".concat(r,")"))}else if("Array<IPv6>"===n){if(!so.test(t))throw Error("".concat(t,"不是个正确的IPv6"));c.push("toIPv6(".concat(r,")"))}else c.push(r)})," hasAny(`"+e+"`, ["+c.join(",")+"])=0"}function n(t){return t}function s(t,r){var e=t.fieldName,n=t.fieldType;if(n&&-1<n.indexOf("IP"))throw Error("IP类型的字段不支持LIKE");var t=(o=mo(e,n)).paramKey,o=o.paramName;return go(t,"%".concat(r,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x LIKE "+t+",`"+e+"`))":(yo(e,n,"like",r),"`"+e+"` LIKE "+o)}function d(t,r){var e=t.fieldName,n=t.fieldType;if(-1<n.indexOf("IP"))throw Error("IP类型的字段不支持 NOT LIKE");var t=(o=mo(e,n)).paramKey,o=o.paramName;return go(t,"%".concat(r,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x NOT LIKE "+t+",`"+e+"`))":(yo(e,n,"not_like",r),"`"+e+"` NOT LIKE "+o)}function l(t){var r=t.fieldName;return t.fieldType,"not empty(`"+r+"`)"}function A(t){var r=t.fieldName;return t.fieldType,"empty(`"+r+"`)"}function v(t,r){return{op:t||"+",field:r}}function o(t){return t}function p(t,r){return[t,r]}function I(t){return t}function C(t){return t.join("")}function m(t,r,e){return r=r.join(""),e=e||r.slice(2,4),[t,r.slice(0,2),e]}function g(t,r){if(t=t.join(""),-1===["IPv4","IPv6","Array"].indexOf(t))throw Error("字段类型只能是".concat(uo.join("、")));return t+(r?"<".concat(r,">"):"")}function y(t){return!isNaN(Number(t))?Number(t):t}function E(t){return t}function P(t){return t}function T(t){return parseInt(t.join(""))}function _(){return co}var w={},r={start:Tn},e=Tn,b=gn("SplExpression"),F=function(t,r){var e=bo(t,2);e[0];var n,o,a,c,i=e[1],u="",f={WHERE:i};r.forEach(function(t){t&&t[3]&&(f=Object.assign(f,t[3]))}),i&&(u+=i),f.GENTIMES&&(n=(o=f.GENTIMES).time_field,c=o.time_from,a=o.time_to,t=Co(c),e=Co(a),r=_o?">=":">",o=wo?"<=":"<",a=Co(c-72e5),c="",Po?(c+="(",c+=" start_time >= toDateTime64(:param_aging_start_time, ".concat(To,", 'UTC') "),c+=" and start_time < toDateTime64(:param_end_time, ".concat(To,", 'UTC') "),c+=" and end_time >= toDateTime64(:param_start_time, ".concat(To,", 'UTC') "),c+=")",Ao.param_aging_start_time=a):c+="(`"+n+"`"+"".concat(r," toDateTime64(:param_start_time, ").concat(To,", 'UTC') AND ")+"`"+n+"`"+" ".concat(o," toDateTime64(:param_end_time, ").concat(To,", 'UTC'))"),f.WHERE=u+=i?" AND ".concat(c):c,Ao.param_start_time=t,Ao.param_end_time=e),f.ORDER_BY&&(u+=" "+f.ORDER_BY),f.LIMIT&&(u+=" "+f.LIMIT);u={source:pn(),target:u,params:Ao,dev:{expression:f,fields:lo,fieldCollection:Object.keys(ho).map(function(t){return ho[t]})}};return Eo?{result:u}:{result:JSON.stringify(u)}},D=gn("SourceAndSearchExpression"),S=gn("SearchExpression"),x=function(t){return t?"("+t+")":""},N=gn("RegionOr"),R=gn("RegionAnd"),O=function(t,r){return t+" AND "+r},M=gn("FactorBlock"),L=gn("BasicCondition"),j=function(t,r,e){var n=t.fieldName,o=t.fieldType,a="<="===r?"<=":"<"===r?"<":">="===r?">=":">"===r?">":"!="===r?"!=":"="===r?"=":"",c=mo(n,o),i=c.paramKey,u=c.paramName;if(o&&-1<o.indexOf("Array")&&"="!==a)throw Error("数组类型的字段只支持=、LIKE搜索");if("Array"===o){var f=e.split(",").filter(function(t){return t});if(2<=f.length){var s=[];return f.forEach(function(t,r){r=i+"_"+r;go(r,t),s.push(r)})," hasAll(".concat(n,", [").concat(s.join(",")," ])=1")}}t="IPv4"===o&&po(e,"IPv4"),r="IPv6"===o&&po(e,"IPv6");if(t||r){if("="!==a&&"!="!==a)throw Error("CIDR格式的IP地址只支持等于或不等于搜索");var d=In(),l=d.start,c=d.end,f=io+l.line+"_"+l.offset+"_"+c.line+"_"+c.offset,t=bo(e.split("/"),2),r=t[0],d=t[1],l="",c="".concat(f,"_ip"),t="".concat(f,"_mask"),f="!="===a?"NOT":"";return"IPv4"===o&&(yo(n,"CIDR_IPv4",a,e),l="".concat(n," ").concat(f," between IPv4CIDRToRange(toIPv4(").concat(c,"), ").concat(t,").1 and IPv4CIDRToRange(toIPv4(").concat(c,"), ").concat(t,").2")),"IPv6"===o&&(yo(n,"CIDR_IPv6",a,e),l="".concat(n," ").concat(f," between IPv6CIDRToRange(toIPv6(").concat(c,"), ").concat(t,").1 and IPv6CIDRToRange(toIPv6(").concat(c,"), ").concat(t,").2")),f&&(l="((".concat(l,") or isNull(").concat(n,"))")),go(c,r),go(t,+d),l}if("Array<CIDR_IPv4>"===o||"Array<CIDR_IPv6>"===o){if("="!==a)throw Error("Array<CIDR_IPv4> 或 Array<CIDR_IPv6> 格式的IP地址只支持等于搜索");if(!fo.test(e)&&!so.test(e))throw Error("".concat(e,"不是个正确的IP地址"));d=In(),l=d.start,d=d.end,l=io+l.line+"_"+l.offset+"_"+d.line+"_"+d.offset,d="".concat(l,"_ip"),l="";return"Array<CIDR_IPv4>"===o&&(l="notEmpty(arrayFilter(y -> (toIPv4(".concat(d,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv4CIDRToRange(toIPv4(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),"Array<CIDR_IPv6>"===o&&(l="notEmpty(arrayFilter(y -> (toIPv6(".concat(d,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv6CIDRToRange(toIPv6(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),yo(n,o,a,e),go(d,e),l}if(a){if("IPv4"===o&&!fo.test(e)&&!po(e,"IPv4"))throw Error("".concat(e,"不是个正确的IPv4"));if("Array<IPv4>"===o&&!fo.test(e))throw Error("".concat(e,"不是个正确的IPv4"));if("IPv6"===o&&!so.test(e)&&!po(e,"IPv6"))throw Error("".concat(e,"不是个正确的IPv6"));if("Array<IPv6>"===o&&!so.test(e))throw Error("".concat(e,"不是个正确的IPv6"));return yo(n,o,a,e),go(i,e),-1<o.indexOf("Array")?" "+u:"!="===a?"((`"+n+"`"+a+u+") or isNull("+n+"))":"`"+n+"`"+a+u}return""},H=gn("InCondition"),U=gn("NotInCondition"),Y=gn("MultipleValue"),Z=function(t,r){return[t].concat(r).filter(function(t,r,e){return e.indexOf(t)===r})},z=gn("MoreMultipleValues"),B=",",K=Cn(",",!1),k=gn("LikeCondition"),G=gn("NotLikeCondition"),$=gn("ExistsCondition"),V=gn("NotExistsCondition"),W=gn("TailCommand"),X=gn("FieldsCommand"),q=function(t,r){var r=[t].concat(r),e=[];return r.forEach(function(t){var r=t.op,t=t.field;"+"===r&&e.push(t)}),{COLUMNS:e.map(function(t){return"`"+t+"`"}).join(",")}},J=gn("Column"),Q=gn("MoreColumns"),tt=gn("HeadCommand"),rt=function(t){if(t<=0)throw Error("返回结果的数量至少为1");return{LIMIT:"LIMIT 0,"+t}},et=gn("SortCommand"),nt=function(t,r,e){return{ORDER_BY:"ORDER BY "+[[t,r]].concat(e).map(function(t){var r=bo(t,2),t=r[0];return r[1]+" "+(t&&"+"!==t?"DESC":"ASC")})}},ot=gn("MoreSort"),at=gn("GentimesCommand"),ct="start",it=Cn("start",!0),ut="end",ft=Cn("end",!0),st=function(t,r,e){var n=vo;return{GENTIMES:{time_field:t,time_from:r,time_to:n=0<e.length?e[0][5]:n}}},dt=gn("TimeValue"),lt='"',ht=Cn('"',!1),At="'",vt=Cn("'",!1),pt=gn("RelativeTime"),It="now-",Ct=Cn("now-",!1),mt=function(t,r){var e=new Date(vo);return"y"===r&&(e=e.setFullYear(e.getFullYear()-t)),"M"===r&&(e=e.setMonth(e.getMonth()-t)),"w"===r&&(e=e.setDate(e.getDate()-7*t)),"d"===r&&(e=e.setDate(e.getDate()-t)),"h"!==r&&"H"!==r||(e=e.setHours(e.getHours()-t)),"m"===r&&(e=e.setMinutes(e.getMinutes()-t)),"s"===r&&(e=e.setSeconds(e.getSeconds()-t)),new Date(e).getTime()},gt=gn("now"),yt="now",Et=Cn("now",!1),Pt=function(){return vo},Tt=gn("TimeUnit"),_t="y",wt=Cn("y",!1),bt="M",Ft=Cn("M",!1),Dt="w",St=Cn("w",!1),xt="d",Nt=Cn("d",!1),Rt="h",Ot=Cn("h",!1),Mt="H",Lt=Cn("H",!1),jt="m",Ht=Cn("m",!1),Ut="s",Yt=Cn("s",!1),Zt=pn,zt=gn("Timestamp"),Bt=function(t){if(13!==String(t).length)throw Error("请输入毫秒级的时间戳");return t},Kt=gn("UTCTime"),kt="-",Gt=Cn("-",!1),$t="T",Vt=Cn("T",!1),Wt=":",Xt=Cn(":",!1),qt=function(t,r,e,n,o,a,c){if(4!==String(t).length||2!==String(r).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DDTHH:mm:ssZ");e="";if(c){n=bo(c,3),o=n[0],a=n[1],c=n[2],n=parseInt(a);if(12<n||n<-12)throw Error("错误的时区范围");if(c&&c.length<2||c&&2===c.length&&("0"!==c[0]||"0"!==c[1])||n<10&&("0"!==a.charAt(0)||"0"===a.charAt(0)&&2!==a.length))throw Error("时区格式错误. 未能解析日期字段 [".concat(pn(),"], 请输入 [").concat(o,"0").concat(n,"] 或 [").concat(o,"0").concat(n,":00]"));e=0===c.length?"".concat(pn(),":00"):pn()}else e="".concat(pn(),"+08:00");return new Date(e).getTime()},Jt=gn("YYYYMMDDHHmmss"),Qt=function(t,r,e,n,o,a){if(4!==String(t).length||2!==String(r).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DD HH:mm:ss");return new Date(pn().replace(/ /,"T")+(o=(new Date).getTimezoneOffset(),a=0<o?"-":"+",o=Math.abs(o)/60,"".concat(a).concat(Io(o),":00"))).getTime()},tr=gn("TimeInteger"),rr=/^[0-9]/,er=mn([["0","9"]],!1,!1),nr=gn("TimeZone"),or="+",ar=Cn("+",!1),cr="00",ir=Cn("00",!1),ur=":00",fr=Cn(":00",!1),sr=/^[ \t\r\n]/,dr=mn([" ","\t","\r","\n"],!1,!1),lr=/^[ ]/,hr=mn([" "],!1,!1),Ar=gn("DataSource"),vr=/^[a-zA-Z0-9._\-*]/,pr=mn([["a","z"],["A","Z"],["0","9"],".","_","-","*"],!1,!1),Ir=gn("Field"),Cr=/^[A-Za-z0-9_.]/,mr=mn([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),gr=function(t){t=t.join("");return-1===lo.indexOf(t)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(t)&&lo.push(t),t},yr=gn("FieldWithType"),Er=function(t,r){var e=t.join(""),t=e+(r?"<"+r+">":"");return-1===lo.indexOf(t)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(e)&&lo.push(t),{fieldName:e,fieldType:r||""}},Pr=gn("FieldType"),Tr="<",_r=Cn("<",!1),wr=/^[A-Za-z0-9]/,br=mn([["A","Z"],["a","z"],["0","9"]],!1,!1),Fr=">",Dr=Cn(">",!1),Sr=gn("FieldSecondType"),xr=/^[A-Za-z0-9_]/,Nr=mn([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Rr=function(t){t=t.join("");if(-1===["IPv4","IPv6","CIDR_IPv4","CIDR_IPv6"].indexOf(t))throw Error("字段类型只能是".concat(uo.join("、")));return t},Or=gn("DefaultValue"),Mr=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002]/,Lr=mn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"],!1,!1),jr=gn("QuotedValue"),Hr=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*()_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002 ]/,Ur=mn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","(",")","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"," "],!1,!1),Yr=gn("Value"),Zr=function(t){return t.join("")},zr="\\",Br=Cn("\\",!1),Kr={type:"any"},kr="b",Gr=Cn("b",!1),$r=function(){return"\b"},Vr="f",Wr=Cn("f",!1),Xr=function(){return"\f"},qr="n",Jr=Cn("n",!1),Qr=function(){return"\n"},te="r",re=Cn("r",!1),ee=function(){return"\r"},ne="t",oe=Cn("t",!1),ae=function(){return"\t"},ce="v",ie=Cn("v",!1),ue=function(){return"\v"},fe=/^[^"]/,se=mn(['"'],!0,!1),de=function(t){return t.join("")},le=/^[^']/,he=mn(["'"],!0,!1),Ae=function(){return""},ve=function(){return""},pe="and",Ie=Cn("AND",!0),Ce="&&",me=Cn("&&",!1),ge="or",ye=Cn("OR",!0),Ee="||",Pe=Cn("||",!1),Te=function(){return"OR"},_e="|",we=Cn("|",!1),be="=",Fe=Cn("=",!1),De="!=",Se=Cn("!=",!1),xe=">=",Ne=Cn(">=",!1),Re="<=",Oe=Cn("<=",!1),Me="(",Le=Cn("(",!1),je=")",He=Cn(")",!1),Ue="source",Ye=Cn("SOURCE",!0),Ze="search",ze=Cn("SEARCH",!0),Be="fields",Ke=Cn("FIELDS",!0),ke="head",Ge=Cn("HEAD",!0),$e="sort",Ve=Cn("SORT",!0),We="gentimes",Xe=Cn("GENTIMES",!0),qe="in",Je=Cn("IN",!0),Qe="not in",tn=Cn("NOT IN",!0),rn="like",en=Cn("LIKE",!0),nn="not like",on=Cn("NOT LIKE",!0),an="exists",cn=Cn("EXISTS",!0),un="not_exists",fn=Cn("NOT_EXISTS",!0),sn=0,dn=0,ln=[{line:1,column:1}],hn=0,An=[],vn=0;if("startRule"in(t=void 0!==t?t:{})){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');e=r[t.startRule]}function pn(){return h.substring(dn,sn)}function In(){return En(dn,sn)}function Cn(t,r){return{type:"literal",text:t,ignoreCase:r}}function mn(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function gn(t){return{type:"other",description:t}}function yn(t){var r,e=ln[t];if(e)return e;for(r=t-1;!ln[r];)r--;for(e={line:(e=ln[r]).line,column:e.column};r<t;)10===h.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return ln[t]=e}function En(t,r){var e=yn(t),n=yn(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Pn(t){sn<hn||(hn<sn&&(hn=sn,An=[]),An.push(t))}function Tn(){return function(){var t,r,e,n,o,a,c,i;if(vn++,t=sn,(r=function(){var t,r,e,n,o,a,c;vn++,r=t=sn,r=(e=function(){var t;h.substr(sn,6).toLowerCase()===Ue?(t=h.substr(sn,6),sn+=6):(t=w,0===vn&&Pn(Ye));return t}())!==w?(n=zn(),n!==w?(o=ro())!==w?(a=zn())!==w?(c=function(){var t,r,e;vn++,t=sn,r=[],vr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(pr));if(e!==w)for(;e!==w;)r.push(e),vr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(pr));else r=w;t=r!==w?h.substring(t,sn):r;vn--,t===w&&(r=w,0===vn&&Pn(Ar));return t}())!==w?e=[e,n,o,a,c]:(sn=r,w):(sn=r,w):(sn=r,w):(sn=r,w)):(sn=r,w);r===w&&(r=null);t=r!==w?(e=sn,n=zn(),e=n!==w?(o=function(){var t,r,e,n,o,a;vn++,r=t=sn,r=(e=to())!==w?(n=zn(),n!==w?(o=function(){var t;h.substr(sn,6).toLowerCase()===Ze?(t=h.substr(sn,6),sn+=6):(t=w,0===vn&&Pn(ze));return t}())!==w?(a=Zn())!==w?e=[e,n,o,a]:(sn=r,w):(sn=r,w):(sn=r,w)):(sn=r,w);r===w&&(r=null);t=r!==w?(e=_n(),e!==w?(dn=t,r=x(e)):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(S));return t}())!==w?n=[n,o]:(sn=e,w):(sn=e,w),(e=e===w?null:e)!==w?(dn=t,r=u(0,e)):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(D));return t}())!==w){for(e=[],n=sn,o=Zn(),n=(o=o===w?null:o)!==w?(a=to())!==w?(c=(c=Zn())===w?null:c)!==w?(i=Sn())!==w?o=[o,a,c,i]:(sn=n,w):(sn=n,w):(sn=n,w):(sn=n,w);n!==w;)e.push(n),n=sn,o=Zn(),n=(o=o===w?null:o)!==w?(a=to())!==w?(c=(c=Zn())===w?null:c)!==w?(i=Sn())!==w?o=[o,a,c,i]:(sn=n,w):(sn=n,w):(sn=n,w):(sn=n,w);t=e!==w?(n=(n=zn())===w?null:n)!==w?(dn=t,r=F(r,e)):(sn=t,w):(sn=t,w)}else sn=t,t=w;vn--,t===w&&(r=w,0===vn&&Pn(b));return t}()}function _n(){var t,r,e,n,o,a;if(vn++,t=sn,(r=wn())!==w){if(e=[],(n=Bn())!==w)for(;n!==w;)e.push(n),n=Bn();else e=w;if(e!==w)if((n=function(){var t,r;h.substr(sn,2).toLowerCase()===ge?(t=h.substr(sn,2),sn+=2):(t=w,0===vn&&Pn(ye));t===w&&(t=sn,h.substr(sn,2)===Ee?(r=Ee,sn+=2):(r=w,0===vn&&Pn(Pe)),r!==w&&(dn=t,r=Te()),t=r);return t}())!==w){if(o=[],(a=Bn())!==w)for(;a!==w;)o.push(a),a=Bn();else o=w;t=o!==w&&(a=_n())!==w?(dn=t,r=c(r,a)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w}else sn=t,t=w;return t===w&&(t=wn()),vn--,t===w&&(r=w,0===vn&&Pn(N)),t}function wn(){var t,r,e,n,o,a;if(vn++,t=sn,(r=bn())!==w){if(e=[],(n=Bn())!==w)for(;n!==w;)e.push(n),n=Bn();else e=w;if(e!==w)if((n=function(){var t,r;h.substr(sn,3).toLowerCase()===pe?(t=h.substr(sn,3),sn+=3):(t=w,0===vn&&Pn(Ie));t===w&&(t=sn,h.substr(sn,2)===Ce?(r=Ce,sn+=2):(r=w,0===vn&&Pn(me)),r!==w&&(dn=t,r=_()),t=r);return t}())!==w){if(o=[],(a=Bn())!==w)for(;a!==w;)o.push(a),a=Bn();else o=w;t=o!==w&&(a=wn())!==w?(dn=t,r=O(r,a)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w}else sn=t,t=w;return t===w&&(t=bn()),vn--,t===w&&(r=w,0===vn&&Pn(R)),t}function bn(){var t,r,e,n,o;if(vn++,(t=function(){var t,r,e,n;vn++,t=sn,t=(r=kn())!==w?(n=zn(),n!==w?(e=(e=ro())===w&&(e=function(){var t;h.substr(sn,2)===De?(t=De,sn+=2):(t=w,0===vn&&Pn(Se));return t}())===w&&(e=function(){var t;h.substr(sn,2)===xe?(t=xe,sn+=2):(t=w,0===vn&&Pn(Ne));return t}())===w&&(e=function(){var t;62===h.charCodeAt(sn)?(t=Fr,sn++):(t=w,0===vn&&Pn(Dr));return t}())===w&&(e=function(){var t;h.substr(sn,2)===Re?(t=Re,sn+=2):(t=w,0===vn&&Pn(Oe));return t}())===w?function(){var t;60===h.charCodeAt(sn)?(t=Tr,sn++):(t=w,0===vn&&Pn(_r));return t}():e)!==w?zn()!==w?(n=Vn())!==w?(dn=t,r=j(r,e,n)):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);t===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,2).toLowerCase()===qe?(t=h.substr(sn,2),sn+=2):(t=w,0===vn&&Pn(Je));return t}()!==w?Zn()!==w?oo()!==w?zn()!==w?(e=Fn())!==w?zn()!==w?ao()!==w?(dn=t,r=i(r,e)):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(H));return t}())===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,6).toLowerCase()===Qe?(t=h.substr(sn,6),sn+=6):(t=w,0===vn&&Pn(tn));return t}()!==w?Zn()!==w?oo()!==w?zn()!==w?(e=Fn())!==w?zn()!==w?ao()!==w?(dn=t,r=f(r,e)):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(U));return t}())===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,4).toLowerCase()===rn?(t=h.substr(sn,4),sn+=4):(t=w,0===vn&&Pn(en));return t}()!==w?Zn()!==w?(e=Jn())!==w?(dn=t,r=s(r,e)):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(k));return t}())===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,8).toLowerCase()===nn?(t=h.substr(sn,8),sn+=8):(t=w,0===vn&&Pn(on));return t}()!==w?Zn()!==w?(e=Jn())!==w?(dn=t,r=d(r,e)):(sn=t,w):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(G));return t}())===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,6).toLowerCase()===an?(t=h.substr(sn,6),sn+=6):(t=w,0===vn&&Pn(cn));return t}()!==w?(dn=t,r=l(r)):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn($));return t}())===w&&(t=function(){var t,r,e;vn++,t=sn,t=(r=kn())!==w?(e=Zn(),e!==w?function(){var t;h.substr(sn,10).toLowerCase()===un?(t=h.substr(sn,10),sn+=10):(t=w,0===vn&&Pn(fn));return t}()!==w?(dn=t,r=A(r)):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(r=w,0===vn&&Pn(V));return t}());vn--,t===w&&(r=w,0===vn&&Pn(L));return t}())===w)if(t=sn,oo()!==w){for(r=[],e=Bn();e!==w;)r.push(e),e=Bn();if(r!==w)if((e=_n())!==w){for(n=[],o=Bn();o!==w;)n.push(o),o=Bn();t=n!==w&&(o=ao())!==w?(dn=t,a(e)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w}else sn=t,t=w;return vn--,t===w&&(0===vn&&Pn(M)),t}function Fn(){var t,r,e,n;if(vn++,t=sn,(r=Vn())!==w){for(e=[],n=Dn();n!==w;)e.push(n),n=Dn();t=e!==w?(dn=t,r=Z(r,e)):(sn=t,w)}else sn=t,t=w;return vn--,t===w&&(r=w,0===vn&&Pn(Y)),t}function Dn(){var t,r,e;return vn++,t=sn,t=zn()!==w?(44===h.charCodeAt(sn)?(r=B,sn++):(r=w,0===vn&&Pn(K)),r!==w&&zn()!==w&&(e=Vn())!==w?(dn=t,n(e)):(sn=t,w)):(sn=t,w),vn--,t===w&&(0===vn&&Pn(z)),t}function Sn(){var t;return vn++,(t=function(){var t,r,e,n,o,a,c,i,u,f,s,d;if(vn++,t=sn,zn()!==w)if(function(){var t;h.substr(sn,8).toLowerCase()===We?(t=h.substr(sn,8),sn+=8):(t=w,0===vn&&Pn(Xe));return t}()!==w)if(Zn()!==w)if((r=Kn())!==w)if(Zn()!==w)if(h.substr(sn,5).toLowerCase()===ct?(e=h.substr(sn,5),sn+=5):(e=w,0===vn&&Pn(it)),e!==w)if(zn()!==w)if(ro()!==w)if(zn()!==w)if((e=On())!==w){for(n=[],o=sn,a=Zn(),o=a!==w?(h.substr(sn,3).toLowerCase()===ut?(c=h.substr(sn,3),sn+=3):(c=w,0===vn&&Pn(ft)),c!==w?(i=zn())!==w?(u=ro())!==w?(f=zn())!==w?(s=On())!==w?(d=zn())!==w?a=[a,c,i,u,f,s,d]:(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w)):(sn=o,w);o!==w;)n.push(o),o=sn,a=Zn(),o=a!==w?(h.substr(sn,3).toLowerCase()===ut?(c=h.substr(sn,3),sn+=3):(c=w,0===vn&&Pn(ft)),c!==w?(i=zn())!==w?(u=ro())!==w?(f=zn())!==w?(s=On())!==w?(d=zn())!==w?a=[a,c,i,u,f,s,d]:(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w):(sn=o,w)):(sn=o,w);t=n!==w?(dn=t,st(r,e,n)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;vn--,t===w&&(0===vn&&Pn(at));return t}())===w&&(t=function(){var t,r,e,n,o;if(vn++,t=sn,zn()!==w)if(function(){var t;h.substr(sn,4).toLowerCase()===$e?(t=h.substr(sn,4),sn+=4):(t=w,0===vn&&Pn(Ve));return t}()!==w)if(Zn()!==w)if((r=(r=(r=eo())===w?no():r)===w?null:r)!==w)if((e=Kn())!==w){for(n=[],o=Rn();o!==w;)n.push(o),o=Rn();t=n!==w?(dn=t,nt(r,e,n)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;vn--,t===w&&(0===vn&&Pn(et));return t}())===w&&(t=function(){var t,r,e,n;if(vn++,t=sn,zn()!==w)if(function(){var t;h.substr(sn,6).toLowerCase()===Be?(t=h.substr(sn,6),sn+=6):(t=w,0===vn&&Pn(Ke));return t}()!==w)if(Zn()!==w)if((r=xn())!==w){for(e=[],n=Nn();n!==w;)e.push(n),n=Nn();t=e!==w?(dn=t,q(r,e)):(sn=t,w)}else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;else sn=t,t=w;vn--,t===w&&(0===vn&&Pn(X));return t}())===w&&(t=function(){var t,r;vn++,t=sn,t=zn()!==w?(r=function(){var t;h.substr(sn,4).toLowerCase()===ke?(t=h.substr(sn,4),sn+=4):(t=w,0===vn&&Pn(Ge));return t}(),r!==w?Zn()!==w?(r=Qn())!==w?(dn=t,rt(r)):(sn=t,w):(sn=t,w):(sn=t,w)):(sn=t,w);vn--,t===w&&(0===vn&&Pn(tt));return t}()),vn--,t===w&&0===vn&&Pn(W),t}function xn(){var t,r,e,n,o;return vn++,t=sn,t=(r=(r=Zn())===w?null:r)!==w&&(e=(e=(e=eo())===w?no():e)===w?null:e)!==w&&(n=(n=Zn())===w?null:n)!==w&&(o=Kn())!==w?(dn=t,r=v(e,o)):(sn=t,w),vn--,t===w&&(r=w,0===vn&&Pn(J)),t}function Nn(){var t,r,e;return vn++,t=sn,t=zn()!==w?(44===h.charCodeAt(sn)?(r=B,sn++):(r=w,0===vn&&Pn(K)),r!==w&&zn()!==w&&(e=xn())!==w?(dn=t,o(e)):(sn=t,w)):(sn=t,w),vn--,t===w&&(0===vn&&Pn(Q)),t}function Rn(){var t,r,e,n;return vn++,t=sn,t=zn()!==w?(44===h.charCodeAt(sn)?(r=B,sn++):(r=w,0===vn&&Pn(K)),r!==w&&zn()!==w&&(e=(e=(e=eo())===w?no():e)===w?null:e)!==w&&(n=Kn())!==w?(dn=t,p(e,n)):(sn=t,w)):(sn=t,w),vn--,t===w&&(0===vn&&Pn(ot)),t}function On(){var t,r,e,n;return vn++,(t=jn())===w&&(t=Mn())===w&&(t=Ln())===w&&(t=sn,34===h.charCodeAt(sn)?(r=lt,sn++):(r=w,0===vn&&Pn(ht)),(t=r!==w&&(e=(e=Hn())===w&&(e=Un())===w&&(e=Mn())===w&&(e=Ln())===w?jn():e)!==w?(34===h.charCodeAt(sn)?(n=lt,sn++):(n=w,0===vn&&Pn(ht)),n!==w?(dn=t,r=I(e)):(sn=t,w)):(sn=t,w))===w&&(t=sn,39===h.charCodeAt(sn)?(r=At,sn++):(r=w,0===vn&&Pn(vt)),t=r!==w&&(e=(e=Hn())===w&&(e=Un())===w&&(e=Mn())===w&&(e=Ln())===w?jn():e)!==w?(39===h.charCodeAt(sn)?(n=At,sn++):(n=w,0===vn&&Pn(vt)),n!==w?(dn=t,r=I(e)):(sn=t,w)):(sn=t,w))),vn--,t===w&&(r=w,0===vn&&Pn(dt)),t}function Mn(){var t,r,e,n;return vn++,t=sn,h.substr(sn,4)===It?(r=It,sn+=4):(r=w,0===vn&&Pn(Ct)),t=r!==w&&(e=Qn())!==w&&(n=function(){var t,r;vn++,t=sn,121===h.charCodeAt(sn)?(r=_t,sn++):(r=w,0===vn&&Pn(wt));r===w&&(77===h.charCodeAt(sn)?(r=bt,sn++):(r=w,0===vn&&Pn(Ft)),r===w&&(119===h.charCodeAt(sn)?(r=Dt,sn++):(r=w,0===vn&&Pn(St)),r===w&&(100===h.charCodeAt(sn)?(r=xt,sn++):(r=w,0===vn&&Pn(Nt)),r===w&&(104===h.charCodeAt(sn)?(r=Rt,sn++):(r=w,0===vn&&Pn(Ot)),r===w&&(72===h.charCodeAt(sn)?(r=Mt,sn++):(r=w,0===vn&&Pn(Lt)),r===w&&(109===h.charCodeAt(sn)?(r=jt,sn++):(r=w,0===vn&&Pn(Ht)),r===w&&(115===h.charCodeAt(sn)?(r=Ut,sn++):(r=w,0===vn&&Pn(Yt)))))))));r!==w&&(dn=t,r=Zt());vn--,(t=r)===w&&(r=w,0===vn&&Pn(Tt));return t}())!==w?(dn=t,r=mt(e,n)):(sn=t,w),vn--,t===w&&(r=w,0===vn&&Pn(pt)),t}function Ln(){var t,r;return vn++,t=sn,h.substr(sn,3)===yt?(r=yt,sn+=3):(r=w,0===vn&&Pn(Et)),r!==w&&(dn=t,r=Pt()),vn--,(t=r)===w&&(r=w,0===vn&&Pn(gt)),t}function jn(){var t,r;return vn++,t=sn,(r=Qn())!==w&&(dn=t,r=Bt(r)),vn--,(t=r)===w&&(r=w,0===vn&&Pn(zt)),t}function Hn(){var t,r,e,n,o,a,c,i,u,f,s,d,l;return vn++,t=sn,t=(r=Yn())!==w?(45===h.charCodeAt(sn)?(e=kt,sn++):(e=w,0===vn&&Pn(Gt)),e!==w&&(n=Yn())!==w?(45===h.charCodeAt(sn)?(o=kt,sn++):(o=w,0===vn&&Pn(Gt)),o!==w&&(a=Yn())!==w?(84===h.charCodeAt(sn)?(c=$t,sn++):(c=w,0===vn&&Pn(Vt)),c!==w&&(i=Yn())!==w?(58===h.charCodeAt(sn)?(u=Wt,sn++):(u=w,0===vn&&Pn(Xt)),u!==w&&(f=Yn())!==w?(58===h.charCodeAt(sn)?(s=Wt,sn++):(s=w,0===vn&&Pn(Xt)),s!==w&&(d=Yn())!==w&&(l=function(){var t,r,e,n;vn++,t=sn,43===h.charCodeAt(sn)?(r=or,sn++):(r=w,0===vn&&Pn(ar));r===w&&(45===h.charCodeAt(sn)?(r=kt,sn++):(r=w,0===vn&&Pn(Gt)));if(r!==w){if(e=[],rr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(er)),n!==w)for(;n!==w;)e.push(n),rr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(er));else e=w;t=e!==w?(h.substr(sn,2)===cr?(n=cr,sn+=2):(n=w,0===vn&&Pn(ir)),n===w&&(h.substr(sn,3)===ur?(n=ur,sn+=3):(n=w,0===vn&&Pn(fr))),(n=n===w?null:n)!==w?(dn=t,r=m(r,e,n)):(sn=t,w)):(sn=t,w)}else sn=t,t=w;vn--,t===w&&(r=w,0===vn&&Pn(nr));return t}())!==w?(dn=t,r=qt(r,n,a,i,f,d,l)):(sn=t,w)):(sn=t,w)):(sn=t,w)):(sn=t,w)):(sn=t,w)):(sn=t,w),vn--,t===w&&(r=w,0===vn&&Pn(Kt)),t}function Un(){var t,r,e,n,o,a,c,i,u,f,s;return vn++,t=sn,t=(r=Yn())!==w?(45===h.charCodeAt(sn)?(e=kt,sn++):(e=w,0===vn&&Pn(Gt)),e!==w&&(n=Yn())!==w?(45===h.charCodeAt(sn)?(o=kt,sn++):(o=w,0===vn&&Pn(Gt)),o!==w&&(a=Yn())!==w&&Zn()!==w&&(c=Yn())!==w?(58===h.charCodeAt(sn)?(i=Wt,sn++):(i=w,0===vn&&Pn(Xt)),i!==w&&(u=Yn())!==w?(58===h.charCodeAt(sn)?(f=Wt,sn++):(f=w,0===vn&&Pn(Xt)),f!==w&&(s=Yn())!==w?(dn=t,r=Qt(r,n,a,c,u,s)):(sn=t,w)):(sn=t,w)):(sn=t,w)):(sn=t,w)):(sn=t,w),vn--,t===w&&(r=w,0===vn&&Pn(Jt)),t}function Yn(){var t,r,e;if(vn++,t=sn,r=[],rr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(er)),e!==w)for(;e!==w;)r.push(e),rr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(er));else r=w;return r!==w&&(dn=t,r=C(r)),vn--,(t=r)===w&&(r=w,0===vn&&Pn(tr)),t}function Zn(){var t,r=[];if(sr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(dr)),t!==w)for(;t!==w;)r.push(t),sr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(dr));else r=w;return r}function zn(){var t,r=[];for(sr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(dr));t!==w;)r.push(t),sr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(dr));return r}function Bn(){var t;return lr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(hr)),t}function Kn(){var t,r,e;if(vn++,t=sn,r=[],Cr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(mr)),e!==w)for(;e!==w;)r.push(e),Cr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(mr));else r=w;return r!==w&&(dn=t,r=gr(r)),vn--,(t=r)===w&&(r=w,0===vn&&Pn(Ir)),t}function kn(){var t,r,e;if(vn++,t=sn,r=[],Cr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(mr)),e!==w)for(;e!==w;)r.push(e),Cr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(mr));else r=w;return t=r!==w&&(e=(e=function(){var t,r,e,n,o;vn++,t=sn,60===h.charCodeAt(sn)?(r=Tr,sn++):(r=w,0===vn&&Pn(_r));if(r!==w){if(e=[],wr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(br)),n!==w)for(;n!==w;)e.push(n),wr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(br));else e=w;t=e!==w?(n=(n=function(){var t,r,e,n;vn++,t=sn,60===h.charCodeAt(sn)?(r=Tr,sn++):(r=w,0===vn&&Pn(_r));if(r!==w){if(e=[],xr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(Nr)),n!==w)for(;n!==w;)e.push(n),xr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(Nr));else e=w;t=e!==w?(62===h.charCodeAt(sn)?(n=Fr,sn++):(n=w,0===vn&&Pn(Dr)),n!==w?(dn=t,r=Rr(e)):(sn=t,w)):(sn=t,w)}else sn=t,t=w;vn--,t===w&&(r=w,0===vn&&Pn(Sr));return t}())===w?null:n)!==w?(62===h.charCodeAt(sn)?(o=Fr,sn++):(o=w,0===vn&&Pn(Dr)),o!==w?(dn=t,r=g(e,n)):(sn=t,w)):(sn=t,w):(sn=t,w)}else sn=t,t=w;vn--,t===w&&(r=w,0===vn&&Pn(Pr));return t}())===w?null:e)!==w?(dn=t,r=Er(r,e)):(sn=t,w),vn--,t===w&&(r=w,0===vn&&Pn(yr)),t}function Gn(){var t,r,e,n;if(vn++,r=t=sn,e=[],Mr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(Lr)),n!==w)for(;n!==w;)e.push(n),Mr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=w,0===vn&&Pn(Lr));else e=w;return(r=e!==w?h.substring(r,sn):e)!==w&&(dn=t,r=y(r)),vn--,(t=r)===w&&(r=w,0===vn&&Pn(Or)),t}function $n(){var t,r,e;if(vn++,t=sn,r=[],Hr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(Ur)),e!==w)for(;e!==w;)r.push(e),Hr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(Ur));else r=w;return t=r!==w?h.substring(t,sn):r,vn--,t===w&&(r=w,0===vn&&Pn(jr)),t}function Vn(){var t,r,e,n;if(vn++,(t=Gn())===w){if(t=sn,34===h.charCodeAt(sn)?(r=lt,sn++):(r=w,0===vn&&Pn(ht)),r!==w){for(e=[],n=Wn();n!==w;)e.push(n),n=Wn();t=e!==w?(34===h.charCodeAt(sn)?(n=lt,sn++):(n=w,0===vn&&Pn(ht)),n!==w?(dn=t,r=Zr(e)):(sn=t,w)):(sn=t,w)}else sn=t,t=w;if(t===w)if(t=sn,39===h.charCodeAt(sn)?(r=At,sn++):(r=w,0===vn&&Pn(vt)),r!==w){for(e=[],n=Xn();n!==w;)e.push(n),n=Xn();t=e!==w?(39===h.charCodeAt(sn)?(n=At,sn++):(n=w,0===vn&&Pn(vt)),n!==w?(dn=t,r=Zr(e)):(sn=t,w)):(sn=t,w)}else sn=t,t=w}return vn--,t===w&&(r=w,0===vn&&Pn(Yr)),t}function Wn(){var t,r=sn,e=sn;return vn++,34===h.charCodeAt(sn)?(t=lt,sn++):(t=w,0===vn&&Pn(ht)),t===w&&(92===h.charCodeAt(sn)?(t=zr,sn++):(t=w,0===vn&&Pn(Br))),vn--,(r=(e=t===w?void 0:(sn=e,w))!==w?(h.length>sn?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(Kr)),t!==w?(dn=r,e=E(t)):(sn=r,w)):(sn=r,w))===w&&(r=sn,92===h.charCodeAt(sn)?(e=zr,sn++):(e=w,0===vn&&Pn(Br)),r=e!==w&&(t=qn())!==w?(dn=r,e=P(t)):(sn=r,w)),r}function Xn(){var t,r=sn,e=sn;return vn++,39===h.charCodeAt(sn)?(t=At,sn++):(t=w,0===vn&&Pn(vt)),t===w&&(92===h.charCodeAt(sn)?(t=zr,sn++):(t=w,0===vn&&Pn(Br))),vn--,(r=(e=t===w?void 0:(sn=e,w))!==w?(h.length>sn?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(Kr)),t!==w?(dn=r,e=E(t)):(sn=r,w)):(sn=r,w))===w&&(r=sn,92===h.charCodeAt(sn)?(e=zr,sn++):(e=w,0===vn&&Pn(Br)),r=e!==w&&(t=qn())!==w?(dn=r,e=P(t)):(sn=r,w)),r}function qn(){var t,r;return 39===h.charCodeAt(sn)?(t=At,sn++):(t=w,0===vn&&Pn(vt)),t===w&&(34===h.charCodeAt(sn)?(t=lt,sn++):(t=w,0===vn&&Pn(ht)),t===w&&(92===h.charCodeAt(sn)?(t=zr,sn++):(t=w,0===vn&&Pn(Br)),t===w&&(t=sn,98===h.charCodeAt(sn)?(r=kr,sn++):(r=w,0===vn&&Pn(Gr)),r!==w&&(dn=t,r=$r()),(t=r)===w&&(t=sn,102===h.charCodeAt(sn)?(r=Vr,sn++):(r=w,0===vn&&Pn(Wr)),r!==w&&(dn=t,r=Xr()),(t=r)===w&&(t=sn,110===h.charCodeAt(sn)?(r=qr,sn++):(r=w,0===vn&&Pn(Jr)),r!==w&&(dn=t,r=Qr()),(t=r)===w&&(t=sn,114===h.charCodeAt(sn)?(r=te,sn++):(r=w,0===vn&&Pn(re)),r!==w&&(dn=t,r=ee()),(t=r)===w&&(t=sn,116===h.charCodeAt(sn)?(r=ne,sn++):(r=w,0===vn&&Pn(oe)),r!==w&&(dn=t,r=ae()),(t=r)===w&&(t=sn,118===h.charCodeAt(sn)?(r=ce,sn++):(r=w,0===vn&&Pn(ie)),r!==w&&(dn=t,r=ue()),t=r)))))))),t}function Jn(){var t,r,e,n=Gn();if(n===w){if(n=sn,34===h.charCodeAt(sn)?(t=lt,sn++):(t=w,0===vn&&Pn(ht)),t!==w){if(r=[],(e=$n())===w&&(fe.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(se))),e!==w)for(;e!==w;)r.push(e),(e=$n())===w&&(fe.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(se)));else r=w;n=r!==w?(34===h.charCodeAt(sn)?(e=lt,sn++):(e=w,0===vn&&Pn(ht)),e!==w?(dn=n,t=de(r)):(sn=n,w)):(sn=n,w)}else sn=n,n=w;if(n===w){if(n=sn,39===h.charCodeAt(sn)?(t=At,sn++):(t=w,0===vn&&Pn(vt)),t!==w){if(r=[],(e=$n())===w&&(le.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(he))),e!==w)for(;e!==w;)r.push(e),(e=$n())===w&&(le.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=w,0===vn&&Pn(he)));else r=w;n=r!==w?(39===h.charCodeAt(sn)?(e=At,sn++):(e=w,0===vn&&Pn(vt)),e!==w?(dn=n,t=de(r)):(sn=n,w)):(sn=n,w)}else sn=n,n=w;n===w&&(n=sn,34===h.charCodeAt(sn)?(t=lt,sn++):(t=w,0===vn&&Pn(ht)),(n=t!==w?(34===h.charCodeAt(sn)?(r=lt,sn++):(r=w,0===vn&&Pn(ht)),r!==w?(dn=n,t=Ae()):(sn=n,w)):(sn=n,w))===w&&(n=sn,39===h.charCodeAt(sn)?(t=At,sn++):(t=w,0===vn&&Pn(vt)),n=t!==w?(39===h.charCodeAt(sn)?(r=At,sn++):(r=w,0===vn&&Pn(vt)),r!==w?(dn=n,t=ve()):(sn=n,w)):(sn=n,w)))}}return n}function Qn(){var t,r=sn,e=[];if(rr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(er)),t!==w)for(;t!==w;)e.push(t),rr.test(h.charAt(sn))?(t=h.charAt(sn),sn++):(t=w,0===vn&&Pn(er));else e=w;return e!==w&&(dn=r,e=T(e)),r=e}function to(){var t;return 124===h.charCodeAt(sn)?(t=_e,sn++):(t=w,0===vn&&Pn(we)),t}function ro(){var t;return 61===h.charCodeAt(sn)?(t=be,sn++):(t=w,0===vn&&Pn(Fe)),t}function eo(){var t;return 43===h.charCodeAt(sn)?(t=or,sn++):(t=w,0===vn&&Pn(ar)),t}function no(){var t;return 45===h.charCodeAt(sn)?(t=kt,sn++):(t=w,0===vn&&Pn(Gt)),t}function oo(){var t;return 40===h.charCodeAt(sn)?(t=Me,sn++):(t=w,0===vn&&Pn(Le)),t}function ao(){var t;return 41===h.charCodeAt(sn)?(t=je,sn++):(t=w,0===vn&&Pn(He)),t}var co="AND",io=":param_",uo=["IPv4","IPv6","Array","Array<IPv4>","Array<CIDR_IPv4>","Array<IPv6>","Array<CIDR_IPv6>"],fo=/^(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)$/,so=/^((?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(:[a-fA-F\d]{1,4}){0,1}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(:[a-fA-F\d]{1,4}){0,2}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(:[a-fA-F\d]{1,4}){0,3}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(:[a-fA-F\d]{1,4}){0,4}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,6}|:)|(?::((?::[a-fA-F\d]{1,4}){0,5}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(?::[a-fA-F\d]{1,4}){1,7}|:)))(%[0-9a-zA-Z]{1,})?$/,lo=[],ho={},Ao={},vo=(new Date).getTime();function po(t,r){if(!t||-1===t.indexOf("/"))return!1;var e=t.split("/");if(2!==e.length)return!1;t=bo(e,2),e=t[0],t=t[1];if(!e||isNaN(+t))return!1;t=+t;return"IPv4"===r?!!(fo.test(e)&&0<t&&t<=32):"IPv6"===r&&!!(so.test(e)&&0<t&&t<=128)}function Io(t){return+t<10?"0".concat(t):t}function Co(t){var r=new Date(t||new Date),e=r.getUTCFullYear(),n=r.getUTCMonth()+1,o=r.getUTCDate(),a=r.getUTCHours(),t=r.getUTCMinutes(),r=r.getUTCSeconds();return e+"-"+Io(n)+"-"+Io(o)+" "+Io(a)+":"+Io(t)+":"+Io(r)}function mo(t,r){var e=In(),n=e.start,e=e.end,n=io+n.line+"_"+n.offset+"_"+e.line+"_"+e.offset,e=n;return"IPv4"===r&&(e="toIPv4(".concat(n,")")),"IPv6"===r&&(e="toIPv6(".concat(n,")")),"Array"===r&&(e="has(".concat(t,", ").concat(n,")=1")),"Array<IPv4>"===r&&(e="has(".concat(t,", toIPv4(").concat(n,"))=1")),{paramKey:n,paramName:e="Array<IPv6>"===r?"has(".concat(t,", toIPv6(").concat(n,"))=1"):e}}function go(t,r){Ao.hasOwnProperty(t)||(Ao[t.replace(":","")]=r)}function yo(t,r,e,n){var o="".concat(t,"_").concat(r||"","_").concat(e,"_").concat(n);ho[o]||(ho[o]={field:t,fieldType:r,operator:e,operand:n})}var Eo=void 0!==(t=(r=t).json)&&t,Po=void 0===(t=r.hasAgingTime)||t,To=void 0===(t=r.timePrecision)?9:t,_o=void 0===(t=r.includeStartTime)||t,wo=void 0===(r=r.includeEndTime)||r;if((e=e())!==w&&sn===h.length)return e;throw e!==w&&sn<h.length&&Pn({type:"end"}),t=An,r=hn<h.length?h.charAt(hn):null,e=hn<h.length?En(hn,hn+1):En(hn,hn),new Fo(Fo.buildMessage(t,r),t,r,e)}}});
