/**
 * spl2sql - Convert Splunk SPL to ClickHouse SQL with pegjs
 * @version v0.0.5
 * @author wangfucheng <wangfucheng@machloop.com>
 * @buildAt 2021-12-01T09:59:21.970Z
 */
function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return e}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}(function(r,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():r.splToSqlConverter=t()})(this,function(){"use strict";function mo(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,mo)}function r(){this.constructor=t}var t,e;return t=mo,e=Error,r.prototype=e.prototype,t.prototype=new r,mo.buildMessage=function(r,t){var e,a={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){for(var t="",e=0;e<r.parts.length;e++)t+=r.parts[e]instanceof Array?i(r.parts[e][0])+"-"+i(r.parts[e][1]):i(r.parts[e]);return"["+(r.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}function i(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}return"Expected "+function(r){for(var t,e,n=new Array(r.length),o=0;o<r.length;o++)n[o]=(e=r[o],a[e.type](e));if(n.sort(),0<n.length){for(t=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[t]=n[o],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+((e=t)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:mo,parse:function(h,r){var v={},t={start:An},e=An,u=sn("SplExpression"),f=function(r,t){var e,n,o,a,i=_slicedToArray(r,2),c=(i[0],i[1]),u="",f={WHERE:c};t.forEach(function(r){r&&r[3]&&(f=Object.assign(f,r[3]))}),c&&(u+=c),f.GENTIMES&&(e=(n=f.GENTIMES).time_field,a=n.time_from,o=n.time_to,r=uo(a),i=uo(o),t=po?">=":">",n=Io?"<=":"<",o=uo(a-Qn),a="",vo?(a+="(",a+=" start_time >= toDateTime64(:param_aging_start_time, ".concat(Ao,", 'UTC') "),a+=" and start_time < toDateTime64(:param_end_time, ".concat(Ao,", 'UTC') "),a+=" and end_time >= toDateTime64(:param_start_time, ".concat(Ao,", 'UTC') "),a+=")",oo.param_aging_start_time=o):a+="(`"+e+"`"+"".concat(t," toDateTime64(:param_start_time, ").concat(Ao,", 'UTC') AND ")+"`"+e+"`"+" ".concat(n," toDateTime64(:param_end_time, ").concat(Ao,", 'UTC'))"),f.WHERE=u+=c?" AND ".concat(a):a,oo.param_start_time=r,oo.param_end_time=i),f.ORDER_BY&&(u+=" "+f.ORDER_BY),f.LIMIT&&(u+=" "+f.LIMIT);u={source:an(),target:u,params:oo,dev:{expression:f,fields:eo,fieldCollection:Object.keys(no).map(function(r){return no[r]})}};return ho?{result:u}:{result:JSON.stringify(u)}},s=sn("SourceAndSearchExpression"),l=function(r,t){return t&&t[1]&&0!==t.length?["",t[1]]:["",""]},d=sn("SearchExpression"),A=function(r){return r?"("+r+")":""},i=sn("RegionOr"),c=function(r,t){return r+" OR "+t},p=sn("RegionAnd"),I=function(r,t){return r+" AND "+t},a=sn("FactorBlock"),m=function(r){return"("+r+")"},y=sn("BasicCondition"),C=function(r,t,e){var n=r.fieldName,o=r.fieldType,a="<="===t?"<=":"<"===t?"<":">="===t?">=":">"===t?">":"!="===t?"!=":"="===t?"=":"",i=fo(n,o),c=i.paramKey,u=i.paramName;if(o&&-1<o.indexOf("Array")&&"="!==a)throw Error("数组类型的字段只支持 = 搜索");if("Array"===o){var f=e.split(",").filter(function(r){return r});if(2<=f.length){var s=[];return f.forEach(function(r,t){t=c+"_"+t;so(t,r),s.push(t)})," hasAll(".concat(n,", [").concat(s.join(",")," ])=1")}}r="IPv4"===o&&io(e,"IPv4"),t="IPv6"===o&&io(e,"IPv6");if(r||t){if("="!==a&&"!="!==a)throw Error("CIDR格式的IP地址只支持等于或不等于搜索");var l=cn(),d=l.start,i=l.end,f=qn+d.line+"_"+d.offset+"_"+i.line+"_"+i.offset,r=_slicedToArray(e.split("/"),2),t=r[0],l=r[1],d="",i="".concat(f,"_ip"),r="".concat(f,"_mask"),f="!="===a?"NOT":"";return"IPv4"===o&&(lo(n,"CIDR_IPv4",a,e),d="".concat(n," ").concat(f," between IPv4CIDRToRange(toIPv4(").concat(i,"), ").concat(r,").1 and IPv4CIDRToRange(toIPv4(").concat(i,"), ").concat(r,").2")),"IPv6"===o&&(lo(n,"CIDR_IPv6",a,e),d="".concat(n," ").concat(f," between IPv6CIDRToRange(toIPv6(").concat(i,"), ").concat(r,").1 and IPv6CIDRToRange(toIPv6(").concat(i,"), ").concat(r,").2")),f&&(d="((".concat(d,") or isNull(").concat(n,"))")),so(i,t),so(r,+l),d}if("Array<CIDR_IPv4>"===o||"Array<CIDR_IPv6>"===o){if("="!==a)throw Error("Array<CIDR_IPv4> 或 Array<CIDR_IPv6> 格式的IP地址只支持等于搜索");if(!ro.test(e)&&!to.test(e))throw Error("".concat(e,"不是个正确的IP地址"));l=cn(),d=l.start,l=l.end,d=qn+d.line+"_"+d.offset+"_"+l.line+"_"+l.offset,l="".concat(d,"_ip"),d="";return"Array<CIDR_IPv4>"===o&&(d="notEmpty(arrayFilter(y -> (toIPv4(".concat(l,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv4CIDRToRange(toIPv4(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),"Array<CIDR_IPv6>"===o&&(d="notEmpty(arrayFilter(y -> (toIPv6(".concat(l,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv6CIDRToRange(toIPv6(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),lo(n,o,a,e),so(l,e),d}if(a){if("IPv4"===o&&!ro.test(e)&&!io(e,"IPv4"))throw Error("".concat(e,"不是个正确的IPv4"));if("Array<IPv4>"===o&&!ro.test(e))throw Error("".concat(e,"不是个正确的IPv4"));if("IPv6"===o&&!to.test(e)&&!io(e,"IPv6"))throw Error("".concat(e,"不是个正确的IPv6"));if("Array<IPv6>"===o&&!to.test(e))throw Error("".concat(e,"不是个正确的IPv6"));return lo(n,o,a,e),so(c,e),-1<o.indexOf("Array")?" "+u:"!="===a?"((`"+n+"`"+a+u+") or isNull("+n+"))":"`"+n+"`"+a+u}return""},g=sn("InCondition"),T=function(r,t){var e=r.fieldName,n=r.fieldType,r=fo(e,n),o=r.paramKey,r=r.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return t.forEach(function(r,t){t=o+"_"+t;if(so(t,r),"IPv4"===n){if(!ro.test(r))throw Error("".concat(r,"不是个正确的IPv4"));a.push("toIPv4(".concat(t,")"))}else{if(!to.test(r))throw Error("".concat(r,"不是个正确的IPv6"));a.push("toIPv6(".concat(t,")"))}}),"`"+e+"` IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return so(o,t),"`"+e+"` IN ("+r+")";var i=[];return t.forEach(function(r,t){t=o+"_"+t;if(so(t,r),"Array<IPv4>"===n){if(!ro.test(r))throw Error("".concat(r,"不是个正确的IPv4"));i.push("toIPv4(".concat(t,")"))}else if("Array<IPv6>"===n){if(!to.test(r))throw Error("".concat(r,"不是个正确的IPv6"));i.push("toIPv6(".concat(t,")"))}else i.push(t)})," hasAny(`"+e+"`, ["+i.join(",")+"])=1"},E=sn("NotInCondition"),_=function(r,t){var e=r.fieldName,n=r.fieldType,r=fo(e,n),o=r.paramKey,r=r.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return t.forEach(function(r,t){t=o+"_"+t;if(so(t,r),"IPv4"===n){if(!ro.test(r))throw Error("".concat(r,"不是个正确的IPv4"));a.push("toIPv4(".concat(t,")"))}else{if(!to.test(r))throw Error("".concat(r,"不是个正确的IPv6"));a.push("toIPv6(".concat(t,")"))}}),"`"+e+"` NOT IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return so(o,t),"`"+e+"` NOT IN ("+r+")";var i=[];return t.forEach(function(r,t){t=o+"_"+t;if(so(t,r),"Array<IPv4>"===n){if(!ro.test(r))throw Error("".concat(r,"不是个正确的IPv4"));i.push("toIPv4(".concat(t,")"))}else if("Array<IPv6>"===n){if(!to.test(r))throw Error("".concat(r,"不是个正确的IPv6"));i.push("toIPv6(".concat(t,")"))}else i.push(t)})," hasAny(`"+e+"`, ["+i.join(",")+"])=0"},o=sn("MultipleValue"),P=function(r,t){t=[r].concat(t);return t.filter(function(r,t,e){return e.indexOf(r)===t})},n=sn("MoreMultipleValues"),b=",",w=un(",",!1),S=function(r){return r},D=sn("LikeCondition"),N=function(r,t){var e=r.fieldName,n=r.fieldType;if(n&&-1<n.indexOf("IP"))throw Error("IP类型的字段不支持LIKE");var o=fo(e,n),r=o.paramKey,o=o.paramName;return so(r,"%".concat(t,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x LIKE "+r+",`"+e+"`))":(lo(e,n,"like",t),"`"+e+"` LIKE "+o)},x=sn("NotLikeCondition"),F=function(r,t){var e=r.fieldName,n=r.fieldType;if(-1<n.indexOf("IP"))throw Error("IP类型的字段不支持 NOT LIKE");var o=fo(e,n),r=o.paramKey,o=o.paramName;return so(r,"%".concat(t,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x NOT LIKE "+r+",`"+e+"`))":(lo(e,n,"not_like",t),"`"+e+"` NOT LIKE "+o)},R=sn("ExistsCondition"),O=function(r){var t=r.fieldName;r.fieldType;return"not empty(`"+t+"`)"},L=sn("NotExistsCondition"),M=function(r){var t=r.fieldName;r.fieldType;return"empty(`"+t+"`)"},j=sn("TailCommand"),H=sn("FieldsCommand"),U=function(r,t){var t=[r].concat(t),e=[],n=[];return t.forEach(function(r){var t=r.op,r=r.field;"+"===t&&e.push(r),"-"===t&&n.push(r)}),{COLUMNS:e.map(function(r){return"`"+r+"`"}).join(",")}},Y=sn("Column"),Z=function(r,t){return{op:r||"+",field:t}},z=sn("MoreColumns"),K=function(r){return r},k=sn("HeadCommand"),B=function(r){if(r<=0)throw Error("返回结果的数量至少为1");return{LIMIT:"LIMIT 0,"+r}},G=sn("SortCommand"),W=function(r,t,e){return{ORDER_BY:"ORDER BY "+[[r,t]].concat(e).map(function(r){var t=_slicedToArray(r,2),r=t[0];return t[1]+" "+(r&&r!==Xn?"DESC":"ASC")})}},V=sn("MoreSort"),$=function(r,t){return[r,t]},X=sn("GentimesCommand"),q="start",J=un("start",!0),Q="end",rr=un("end",!0),tr=function(r,t,e){var n=ao;return 0<e.length&&(n=e[0][5]),{GENTIMES:{time_field:r,time_from:t,time_to:n}}},er=sn("TimeValue"),nr='"',or=un('"',!1),ar=function(r){return r},ir="'",cr=un("'",!1),ur=sn("RelativeTime"),fr="now-",sr=un("now-",!1),lr=function(r,t){var e=new Date(ao);return"y"===t&&(e=e.setFullYear(e.getFullYear()-r)),"M"===t&&(e=e.setMonth(e.getMonth()-r)),"w"===t&&(e=e.setDate(e.getDate()-7*r)),"d"===t&&(e=e.setDate(e.getDate()-r)),"h"!==t&&"H"!==t||(e=e.setHours(e.getHours()-r)),"m"===t&&(e=e.setMinutes(e.getMinutes()-r)),"s"===t&&(e=e.setSeconds(e.getSeconds()-r)),new Date(e).getTime()},dr=sn("now"),hr="now",vr=un("now",!1),Ar=function(){return ao},pr=sn("TimeUnit"),Ir="y",mr=un("y",!1),yr="M",Cr=un("M",!1),gr="w",Tr=un("w",!1),Er="d",_r=un("d",!1),Pr="h",br=un("h",!1),wr="H",Sr=un("H",!1),Dr="m",Nr=un("m",!1),xr="s",Fr=un("s",!1),Rr=an,Or=sn("Timestamp"),Lr=function(r){if(13!==String(r).length)throw Error("请输入毫秒级的时间戳");return r},Mr=sn("UTCTime"),jr="-",Hr=un("-",!1),Ur="T",Yr=un("T",!1),Zr=":",zr=un(":",!1),Kr=function(r,t,e,n,o,a,i){if(4!==String(r).length||2!==String(t).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DDTHH:mm:ssZ");e="";if(i){n=_slicedToArray(i,3),o=n[0],a=n[1],i=n[2],n=parseInt(a);if(12<n||n<-12)throw Error("错误的时区范围");if(i&&i.length<2||i&&2===i.length&&("0"!==i[0]||"0"!==i[1])||n<10&&("0"!==a.charAt(0)||"0"===a.charAt(0)&&2!==a.length))throw Error("时区格式错误. 未能解析日期字段 [".concat(an(),"], 请输入 [").concat(o,"0").concat(n,"] 或 [").concat(o,"0").concat(n,":00]"));e=0===i.length?"".concat(an(),":00"):an()}else e="".concat(an(),"+08:00");return new Date(e).getTime()},kr=sn("YYYYMMDDHHmmss"),Br=function(r,t,e,n,o,a){if(4!==String(r).length||2!==String(t).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DD HH:mm:ss");return new Date(an().replace(/ /,"T")+(o=(new Date).getTimezoneOffset(),a=0<o?"-":"+",o=Math.abs(o)/60,"".concat(a).concat(co(o),":00"))).getTime()},Gr=sn("TimeInteger"),Wr=/^[0-9]/,Vr=fn([["0","9"]],!1,!1),$r=function(r){return r.join("")},Xr=sn("TimeZone"),qr="+",Jr=un("+",!1),Qr="00",rt=un("00",!1),tt=":00",et=un(":00",!1),nt=function(r,t,e){t=t.join("");return e=e||t.slice(2,4),[r,t.slice(0,2),e]},ot=/^[ \t\r\n]/,at=fn([" ","\t","\r","\n"],!1,!1),it=/^[ ]/,ct=fn([" "],!1,!1),ut=sn("DataSource"),ft=/^[a-zA-Z0-9._\-*]/,st=fn([["a","z"],["A","Z"],["0","9"],".","_","-","*"],!1,!1),lt=sn("Field"),dt=/^[A-Za-z0-9_.]/,ht=fn([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),vt=function(r){r=r.join("");return-1===eo.indexOf(r)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(r)&&eo.push(r),r},At=sn("FieldWithType"),pt=function(r,t){var e=r.join(""),r=e+(t?"<"+t+">":"");return-1===eo.indexOf(r)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(e)&&eo.push(r),{fieldName:e,fieldType:t||""}},It=sn("FieldType"),mt="<",yt=un("<",!1),Ct=/^[A-Za-z0-9]/,gt=fn([["A","Z"],["a","z"],["0","9"]],!1,!1),Tt=">",Et=un(">",!1),_t=function(r,t){r=r.join("");if(-1===["IPv4","IPv6","Array"].indexOf(r))throw Error("字段类型只能是".concat(Jn.join("、")));return r+(t?"<".concat(t,">"):"")},Pt=sn("FieldSecondType"),bt=/^[A-Za-z0-9_]/,wt=fn([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),St=function(r){r=r.join("");if(-1===["IPv4","IPv6","CIDR_IPv4","CIDR_IPv6"].indexOf(r))throw Error("字段类型只能是".concat(Jn.join("、")));return r},Dt=sn("DefaultValue"),Nt=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002]/,xt=fn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"],!1,!1),Ft=function(r){return!isNaN(Number(r))?Number(r):r},Rt=(sn("QuotedValue"),fn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","(",")","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"," "],!1,!1),sn("Value")),Ot=function(r){return r.join("")},Lt="\\",Mt=un("\\",!1),jt={type:"any"},Ht=function(r){return r},Ut=function(r){return r},Yt="b",Zt=un("b",!1),zt=function(){return"\b"},Kt="f",kt=un("f",!1),Bt=function(){return"\f"},Gt="n",Wt=un("n",!1),Vt=function(){return"\n"},$t="r",Xt=un("r",!1),qt=function(){return"\r"},Jt="t",Qt=un("t",!1),re=function(){return"\t"},te="v",ee=un("v",!1),ne=function(){return"\v"},oe=function(r){return parseInt(r.join(""))},ae="and",ie=un("AND",!0),ce="&&",ue=un("&&",!1),fe=function(){return Vn},se="or",le=un("OR",!0),de="||",he=un("||",!1),ve=function(){return $n},Ae=(un("true",!1),un("false",!1),"|"),pe=un("|",!1),Ie="=",me=un("=",!1),ye="!=",Ce=un("!=",!1),ge=">=",Te=un(">=",!1),Ee="<=",_e=un("<=",!1),Pe="(",be=un("(",!1),we=")",Se=un(")",!1),De="source",Ne=un("SOURCE",!0),xe="search",Fe=un("SEARCH",!0),Re="fields",Oe=un("FIELDS",!0),Le="head",Me=un("HEAD",!0),je="sort",He=un("SORT",!0),Ue="gentimes",Ye=un("GENTIMES",!0),Ze=(un("SIZE",!0),un("TIMEOUT",!0),un("TRACK_TOTAL_HITS",!0),un("TERMINATE_AFTER",!0),un("TOP",!0),un("LIMIT",!0),"in"),ze=un("IN",!0),Ke="not in",ke=un("NOT IN",!0),Be="like",Ge=un("LIKE",!0),We="not like",Ve=un("NOT LIKE",!0),$e="exists",Xe=un("EXISTS",!0),qe="not_exists",Je=un("NOT_EXISTS",!0),Qe=0,rn=0,tn=[{line:1,column:1}],en=0,nn=[],on=0;if("startRule"in(r=void 0!==r?r:{})){if(!(r.startRule in t))throw new Error("Can't start parsing from rule \""+r.startRule+'".');e=t[r.startRule]}function an(){return h.substring(rn,Qe)}function cn(){return dn(rn,Qe)}function un(r,t){return{type:"literal",text:r,ignoreCase:t}}function fn(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function sn(r){return{type:"other",description:r}}function ln(r){var t,e=tn[r];if(e)return e;for(t=r-1;!tn[t];)t--;for(e={line:(e=tn[t]).line,column:e.column};t<r;)10===h.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return tn[r]=e}function dn(r,t){var e=ln(r),n=ln(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function hn(r){Qe<en||(en<Qe&&(en=Qe,nn=[]),nn.push(r))}function vn(r,t,e){return new mo(mo.buildMessage(r,t),r,t,e)}function An(){return function(){var r,t,e,n,o,a,i,c;if(on++,r=Qe,(t=function(){var r,t,e,n,o,a,i;on++,t=r=Qe,t=(e=function(){var r;h.substr(Qe,6).toLowerCase()===De?(r=h.substr(Qe,6),Qe+=6):(r=v,0===on&&hn(Ne));return r}())!==v?(n=Rn(),n!==v?(o=Kn())!==v?(a=Rn())!==v?(i=function(){var r,t,e;on++,r=Qe,t=[],ft.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(st));if(e!==v)for(;e!==v;)t.push(e),ft.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(st));else t=v;r=t!==v?h.substring(r,Qe):t;on--,r===v&&(t=v,0===on&&hn(ut));return r}())!==v?e=[e,n,o,a,i]:(Qe=t,v):(Qe=t,v):(Qe=t,v):(Qe=t,v)):(Qe=t,v);t===v&&(t=null);r=t!==v?(e=Qe,n=Rn(),(e=n!==v?(o=function(){var r,t,e,n,o,a;on++,t=r=Qe,t=(e=zn())!==v?(n=Rn(),n!==v?(o=function(){var r;h.substr(Qe,6).toLowerCase()===xe?(r=h.substr(Qe,6),Qe+=6):(r=v,0===on&&hn(Fe));return r}())!==v?(a=Fn())!==v?e=[e,n,o,a]:(Qe=t,v):(Qe=t,v):(Qe=t,v)):(Qe=t,v);t===v&&(t=null);r=t!==v?(e=pn(),e!==v?(rn=r,t=A(e)):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(d));return r}())!==v?n=[n,o]:(Qe=e,v):(Qe=e,v))===v&&(e=null),e!==v?(rn=r,t=l(t,e)):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(s));return r}())!==v){for(e=[],n=Qe,(o=Fn())===v&&(o=null),n=o!==v?(a=zn())!==v?((i=Fn())===v&&(i=null),i!==v?(c=gn())!==v?o=[o,a,i,c]:(Qe=n,v):(Qe=n,v)):(Qe=n,v):(Qe=n,v);n!==v;)e.push(n),n=Qe,(o=Fn())===v&&(o=null),n=o!==v?(a=zn())!==v?((i=Fn())===v&&(i=null),i!==v?(c=gn())!==v?o=[o,a,i,c]:(Qe=n,v):(Qe=n,v)):(Qe=n,v):(Qe=n,v);r=e!==v?((n=Rn())===v&&(n=null),n!==v?(rn=r,t=f(t,e)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v;on--,r===v&&(t=v,0===on&&hn(u));return r}()}function pn(){var r,t,e,n,o,a;if(on++,r=Qe,(t=In())!==v){if(e=[],(n=On())!==v)for(;n!==v;)e.push(n),n=On();else e=v;if(e!==v)if((n=function(){var r,t;h.substr(Qe,2).toLowerCase()===se?(r=h.substr(Qe,2),Qe+=2):(r=v,0===on&&hn(le));r===v&&(r=Qe,h.substr(Qe,2)===de?(t=de,Qe+=2):(t=v,0===on&&hn(he)),t!==v&&(rn=r,t=ve()),r=t);return r}())!==v){if(o=[],(a=On())!==v)for(;a!==v;)o.push(a),a=On();else o=v;r=o!==v&&(a=pn())!==v?(rn=r,t=c(t,a)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v}else Qe=r,r=v;return r===v&&(r=In()),on--,r===v&&(t=v,0===on&&hn(i)),r}function In(){var r,t,e,n,o,a;if(on++,r=Qe,(t=mn())!==v){if(e=[],(n=On())!==v)for(;n!==v;)e.push(n),n=On();else e=v;if(e!==v)if((n=function(){var r,t;h.substr(Qe,3).toLowerCase()===ae?(r=h.substr(Qe,3),Qe+=3):(r=v,0===on&&hn(ie));r===v&&(r=Qe,h.substr(Qe,2)===ce?(t=ce,Qe+=2):(t=v,0===on&&hn(ue)),t!==v&&(rn=r,t=fe()),r=t);return r}())!==v){if(o=[],(a=On())!==v)for(;a!==v;)o.push(a),a=On();else o=v;r=o!==v&&(a=In())!==v?(rn=r,t=I(t,a)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v}else Qe=r,r=v;return r===v&&(r=mn()),on--,r===v&&(t=v,0===on&&hn(p)),r}function mn(){var r,t,e,n,o;if(on++,(r=function(){var r,t,e,n;on++,r=Qe,r=(t=Mn())!==v?(n=Rn(),n!==v?((e=Kn())===v&&(e=function(){var r;h.substr(Qe,2)===ye?(r=ye,Qe+=2):(r=v,0===on&&hn(Ce));return r}())===v&&(e=function(){var r;h.substr(Qe,2)===ge?(r=ge,Qe+=2):(r=v,0===on&&hn(Te));return r}())===v&&(e=function(){var r;62===h.charCodeAt(Qe)?(r=Tt,Qe++):(r=v,0===on&&hn(Et));return r}())===v&&(e=function(){var r;h.substr(Qe,2)===Ee?(r=Ee,Qe+=2):(r=v,0===on&&hn(_e));return r}())===v&&(e=function(){var r;60===h.charCodeAt(Qe)?(r=mt,Qe++):(r=v,0===on&&hn(yt));return r}()),e!==v?Rn()!==v?(n=jn())!==v?(rn=r,t=C(t,e,n)):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v)):(Qe=r,v);r===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,2).toLowerCase()===Ze?(r=h.substr(Qe,2),Qe+=2):(r=v,0===on&&hn(ze));return r}()!==v?Fn()!==v?Gn()!==v?Rn()!==v?(e=yn())!==v?Rn()!==v?Wn()!==v?(rn=r,t=T(t,e)):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(g));return r}())===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,6).toLowerCase()===Ke?(r=h.substr(Qe,6),Qe+=6):(r=v,0===on&&hn(ke));return r}()!==v?Fn()!==v?Gn()!==v?Rn()!==v?(e=yn())!==v?Rn()!==v?Wn()!==v?(rn=r,t=_(t,e)):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(E));return r}())===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,4).toLowerCase()===Be?(r=h.substr(Qe,4),Qe+=4):(r=v,0===on&&hn(Ge));return r}()!==v?Fn()!==v?(e=jn())!==v?(rn=r,t=N(t,e)):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(D));return r}())===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,8).toLowerCase()===We?(r=h.substr(Qe,8),Qe+=8):(r=v,0===on&&hn(Ve));return r}()!==v?Fn()!==v?(e=jn())!==v?(rn=r,t=F(t,e)):(Qe=r,v):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(x));return r}())===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,6).toLowerCase()===$e?(r=h.substr(Qe,6),Qe+=6):(r=v,0===on&&hn(Xe));return r}()!==v?(rn=r,t=O(t)):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(R));return r}())===v&&(r=function(){var r,t,e;on++,r=Qe,r=(t=Mn())!==v?(e=Fn(),e!==v?function(){var r;h.substr(Qe,10).toLowerCase()===qe?(r=h.substr(Qe,10),Qe+=10):(r=v,0===on&&hn(Je));return r}()!==v?(rn=r,t=M(t)):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(t=v,0===on&&hn(L));return r}());on--,r===v&&(t=v,0===on&&hn(y));return r}())===v)if(r=Qe,Gn()!==v){for(t=[],e=On();e!==v;)t.push(e),e=On();if(t!==v)if((e=pn())!==v){for(n=[],o=On();o!==v;)n.push(o),o=On();r=n!==v&&(o=Wn())!==v?(rn=r,m(e)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v}else Qe=r,r=v;return on--,r===v&&(0===on&&hn(a)),r}function yn(){var r,t,e,n;if(on++,r=Qe,(t=jn())!==v){for(e=[],n=Cn();n!==v;)e.push(n),n=Cn();r=e!==v?(rn=r,t=P(t,e)):(Qe=r,v)}else Qe=r,r=v;return on--,r===v&&(t=v,0===on&&hn(o)),r}function Cn(){var r,t,e;return on++,r=Qe,r=Rn()!==v?(44===h.charCodeAt(Qe)?(t=b,Qe++):(t=v,0===on&&hn(w)),t!==v&&Rn()!==v&&(e=jn())!==v?(rn=r,S(e)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(0===on&&hn(n)),r}function gn(){var r;return on++,(r=function(){var r,t,e,n,o,a,i,c,u,f,s,l;if(on++,r=Qe,Rn()!==v)if(function(){var r;h.substr(Qe,8).toLowerCase()===Ue?(r=h.substr(Qe,8),Qe+=8):(r=v,0===on&&hn(Ye));return r}()!==v)if(Fn()!==v)if((t=Ln())!==v)if(Fn()!==v)if(h.substr(Qe,5).toLowerCase()===q?(e=h.substr(Qe,5),Qe+=5):(e=v,0===on&&hn(J)),e!==v)if(Rn()!==v)if(Kn()!==v)if(Rn()!==v)if((e=Pn())!==v){for(n=[],o=Qe,a=Fn(),o=a!==v?(h.substr(Qe,3).toLowerCase()===Q?(i=h.substr(Qe,3),Qe+=3):(i=v,0===on&&hn(rr)),i!==v?(c=Rn())!==v?(u=Kn())!==v?(f=Rn())!==v?(s=Pn())!==v?(l=Rn())!==v?a=[a,i,c,u,f,s,l]:(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v)):(Qe=o,v);o!==v;)n.push(o),o=Qe,a=Fn(),o=a!==v?(h.substr(Qe,3).toLowerCase()===Q?(i=h.substr(Qe,3),Qe+=3):(i=v,0===on&&hn(rr)),i!==v?(c=Rn())!==v?(u=Kn())!==v?(f=Rn())!==v?(s=Pn())!==v?(l=Rn())!==v?a=[a,i,c,u,f,s,l]:(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v):(Qe=o,v)):(Qe=o,v);r=n!==v?(rn=r,tr(t,e,n)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;on--,r===v&&(0===on&&hn(X));return r}())===v&&(r=function(){var r,t,e,n,o;if(on++,r=Qe,Rn()!==v)if(function(){var r;h.substr(Qe,4).toLowerCase()===je?(r=h.substr(Qe,4),Qe+=4):(r=v,0===on&&hn(He));return r}()!==v)if(Fn()!==v)if((t=kn())===v&&(t=Bn()),t===v&&(t=null),t!==v)if((e=Ln())!==v){for(n=[],o=_n();o!==v;)n.push(o),o=_n();r=n!==v?(rn=r,W(t,e,n)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;on--,r===v&&(0===on&&hn(G));return r}())===v&&(r=function(){var r,t,e,n;if(on++,r=Qe,Rn()!==v)if(function(){var r;h.substr(Qe,6).toLowerCase()===Re?(r=h.substr(Qe,6),Qe+=6):(r=v,0===on&&hn(Oe));return r}()!==v)if(Fn()!==v)if((t=Tn())!==v){for(e=[],n=En();n!==v;)e.push(n),n=En();r=e!==v?(rn=r,U(t,e)):(Qe=r,v)}else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;else Qe=r,r=v;on--,r===v&&(0===on&&hn(H));return r}())===v&&(r=function(){var r,t;on++,r=Qe,r=Rn()!==v?(t=function(){var r;h.substr(Qe,4).toLowerCase()===Le?(r=h.substr(Qe,4),Qe+=4):(r=v,0===on&&hn(Me));return r}(),t!==v?Fn()!==v?(t=Zn())!==v?(rn=r,B(t)):(Qe=r,v):(Qe=r,v):(Qe=r,v)):(Qe=r,v);on--,r===v&&(0===on&&hn(k));return r}()),on--,r===v&&(0===on&&hn(j)),r}function Tn(){var r,t,e,n,o;return on++,r=Qe,(t=Fn())===v&&(t=null),r=t!==v?((e=kn())===v&&(e=Bn()),e===v&&(e=null),e!==v?((n=Fn())===v&&(n=null),n!==v&&(o=Ln())!==v?(rn=r,t=Z(e,o)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(t=v,0===on&&hn(Y)),r}function En(){var r,t,e;return on++,r=Qe,r=Rn()!==v?(44===h.charCodeAt(Qe)?(t=b,Qe++):(t=v,0===on&&hn(w)),t!==v&&Rn()!==v&&(e=Tn())!==v?(rn=r,K(e)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(0===on&&hn(z)),r}function _n(){var r,t,e;return on++,r=Qe,r=Rn()!==v?(44===h.charCodeAt(Qe)?(t=b,Qe++):(t=v,0===on&&hn(w)),t!==v&&Rn()!==v?((t=kn())===v&&(t=Bn()),t===v&&(t=null),t!==v&&(e=Ln())!==v?(rn=r,$(t,e)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(0===on&&hn(V)),r}function Pn(){var r,t,e,n;return on++,(r=Sn())===v&&(r=bn())===v&&(r=wn())===v&&(r=Qe,34===h.charCodeAt(Qe)?(t=nr,Qe++):(t=v,0===on&&hn(or)),(r=t!==v?((e=Dn())===v&&(e=Nn())===v&&(e=bn())===v&&(e=wn())===v&&(e=Sn()),e!==v?(34===h.charCodeAt(Qe)?(n=nr,Qe++):(n=v,0===on&&hn(or)),n!==v?(rn=r,t=ar(e)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v))===v&&(r=Qe,39===h.charCodeAt(Qe)?(t=ir,Qe++):(t=v,0===on&&hn(cr)),r=t!==v?((e=Dn())===v&&(e=Nn())===v&&(e=bn())===v&&(e=wn())===v&&(e=Sn()),e!==v?(39===h.charCodeAt(Qe)?(n=ir,Qe++):(n=v,0===on&&hn(cr)),n!==v?(rn=r,t=ar(e)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v))),on--,r===v&&(t=v,0===on&&hn(er)),r}function bn(){var r,t,e,n;return on++,r=Qe,h.substr(Qe,4)===fr?(t=fr,Qe+=4):(t=v,0===on&&hn(sr)),r=t!==v&&(e=Zn())!==v&&(n=function(){var r,t;on++,r=Qe,121===h.charCodeAt(Qe)?(t=Ir,Qe++):(t=v,0===on&&hn(mr));t===v&&(77===h.charCodeAt(Qe)?(t=yr,Qe++):(t=v,0===on&&hn(Cr)),t===v&&(119===h.charCodeAt(Qe)?(t=gr,Qe++):(t=v,0===on&&hn(Tr)),t===v&&(100===h.charCodeAt(Qe)?(t=Er,Qe++):(t=v,0===on&&hn(_r)),t===v&&(104===h.charCodeAt(Qe)?(t=Pr,Qe++):(t=v,0===on&&hn(br)),t===v&&(72===h.charCodeAt(Qe)?(t=wr,Qe++):(t=v,0===on&&hn(Sr)),t===v&&(109===h.charCodeAt(Qe)?(t=Dr,Qe++):(t=v,0===on&&hn(Nr)),t===v&&(115===h.charCodeAt(Qe)?(t=xr,Qe++):(t=v,0===on&&hn(Fr)))))))));t!==v&&(rn=r,t=Rr());on--,(r=t)===v&&(t=v,0===on&&hn(pr));return r}())!==v?(rn=r,t=lr(e,n)):(Qe=r,v),on--,r===v&&(t=v,0===on&&hn(ur)),r}function wn(){var r,t;return on++,r=Qe,h.substr(Qe,3)===hr?(t=hr,Qe+=3):(t=v,0===on&&hn(vr)),t!==v&&(rn=r,t=Ar()),on--,(r=t)===v&&(t=v,0===on&&hn(dr)),r}function Sn(){var r,t;return on++,r=Qe,(t=Zn())!==v&&(rn=r,t=Lr(t)),on--,(r=t)===v&&(t=v,0===on&&hn(Or)),r}function Dn(){var r,t,e,n,o,a,i,c,u,f,s,l,d;return on++,r=Qe,r=(t=xn())!==v?(45===h.charCodeAt(Qe)?(e=jr,Qe++):(e=v,0===on&&hn(Hr)),e!==v&&(n=xn())!==v?(45===h.charCodeAt(Qe)?(o=jr,Qe++):(o=v,0===on&&hn(Hr)),o!==v&&(a=xn())!==v?(84===h.charCodeAt(Qe)?(i=Ur,Qe++):(i=v,0===on&&hn(Yr)),i!==v&&(c=xn())!==v?(58===h.charCodeAt(Qe)?(u=Zr,Qe++):(u=v,0===on&&hn(zr)),u!==v&&(f=xn())!==v?(58===h.charCodeAt(Qe)?(s=Zr,Qe++):(s=v,0===on&&hn(zr)),s!==v&&(l=xn())!==v&&(d=function(){var r,t,e,n;on++,r=Qe,43===h.charCodeAt(Qe)?(t=qr,Qe++):(t=v,0===on&&hn(Jr));t===v&&(45===h.charCodeAt(Qe)?(t=jr,Qe++):(t=v,0===on&&hn(Hr)));if(t!==v){if(e=[],Wr.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(Vr)),n!==v)for(;n!==v;)e.push(n),Wr.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(Vr));else e=v;r=e!==v?(h.substr(Qe,2)===Qr?(n=Qr,Qe+=2):(n=v,0===on&&hn(rt)),n===v&&(h.substr(Qe,3)===tt?(n=tt,Qe+=3):(n=v,0===on&&hn(et))),n===v&&(n=null),n!==v?(rn=r,t=nt(t,e,n)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v;on--,r===v&&(t=v,0===on&&hn(Xr));return r}())!==v?(rn=r,t=Kr(t,n,a,c,f,l,d)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(t=v,0===on&&hn(Mr)),r}function Nn(){var r,t,e,n,o,a,i,c,u,f,s;return on++,r=Qe,r=(t=xn())!==v?(45===h.charCodeAt(Qe)?(e=jr,Qe++):(e=v,0===on&&hn(Hr)),e!==v&&(n=xn())!==v?(45===h.charCodeAt(Qe)?(o=jr,Qe++):(o=v,0===on&&hn(Hr)),o!==v&&(a=xn())!==v&&Fn()!==v&&(i=xn())!==v?(58===h.charCodeAt(Qe)?(c=Zr,Qe++):(c=v,0===on&&hn(zr)),c!==v&&(u=xn())!==v?(58===h.charCodeAt(Qe)?(f=Zr,Qe++):(f=v,0===on&&hn(zr)),f!==v&&(s=xn())!==v?(rn=r,t=Br(t,n,a,i,u,s)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(t=v,0===on&&hn(kr)),r}function xn(){var r,t,e;if(on++,r=Qe,t=[],Wr.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(Vr)),e!==v)for(;e!==v;)t.push(e),Wr.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(Vr));else t=v;return t!==v&&(rn=r,t=$r(t)),on--,(r=t)===v&&(t=v,0===on&&hn(Gr)),r}function Fn(){var r,t=[];if(ot.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(at)),r!==v)for(;r!==v;)t.push(r),ot.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(at));else t=v;return t}function Rn(){var r,t=[];for(ot.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(at));r!==v;)t.push(r),ot.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(at));return t}function On(){var r;return it.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(ct)),r}function Ln(){var r,t,e;if(on++,r=Qe,t=[],dt.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(ht)),e!==v)for(;e!==v;)t.push(e),dt.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(ht));else t=v;return t!==v&&(rn=r,t=vt(t)),on--,(r=t)===v&&(t=v,0===on&&hn(lt)),r}function Mn(){var r,t,e;if(on++,r=Qe,t=[],dt.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(ht)),e!==v)for(;e!==v;)t.push(e),dt.test(h.charAt(Qe))?(e=h.charAt(Qe),Qe++):(e=v,0===on&&hn(ht));else t=v;return r=t!==v?((e=function(){var r,t,e,n,o;on++,r=Qe,60===h.charCodeAt(Qe)?(t=mt,Qe++):(t=v,0===on&&hn(yt));if(t!==v){if(e=[],Ct.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(gt)),n!==v)for(;n!==v;)e.push(n),Ct.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(gt));else e=v;r=e!==v?((n=function(){var r,t,e,n;on++,r=Qe,60===h.charCodeAt(Qe)?(t=mt,Qe++):(t=v,0===on&&hn(yt));if(t!==v){if(e=[],bt.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(wt)),n!==v)for(;n!==v;)e.push(n),bt.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(wt));else e=v;r=e!==v?(62===h.charCodeAt(Qe)?(n=Tt,Qe++):(n=v,0===on&&hn(Et)),n!==v?(rn=r,t=St(e)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v;on--,r===v&&(t=v,0===on&&hn(Pt));return r}())===v&&(n=null),n!==v?(62===h.charCodeAt(Qe)?(o=Tt,Qe++):(o=v,0===on&&hn(Et)),o!==v?(rn=r,t=_t(e,n)):(Qe=r,v)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v;on--,r===v&&(t=v,0===on&&hn(It));return r}())===v&&(e=null),e!==v?(rn=r,t=pt(t,e)):(Qe=r,v)):(Qe=r,v),on--,r===v&&(t=v,0===on&&hn(At)),r}function jn(){var r,t,e,n;if(on++,(r=function(){var r,t,e,n;if(on++,t=r=Qe,e=[],Nt.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(xt)),n!==v)for(;n!==v;)e.push(n),Nt.test(h.charAt(Qe))?(n=h.charAt(Qe),Qe++):(n=v,0===on&&hn(xt));else e=v;return(t=e!==v?h.substring(t,Qe):e)!==v&&(rn=r,t=Ft(t)),on--,(r=t)===v&&(t=v,0===on&&hn(Dt)),r}())===v){if(r=Qe,34===h.charCodeAt(Qe)?(t=nr,Qe++):(t=v,0===on&&hn(or)),t!==v){for(e=[],n=Hn();n!==v;)e.push(n),n=Hn();r=e!==v?(34===h.charCodeAt(Qe)?(n=nr,Qe++):(n=v,0===on&&hn(or)),n!==v?(rn=r,t=Ot(e)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v;if(r===v)if(r=Qe,39===h.charCodeAt(Qe)?(t=ir,Qe++):(t=v,0===on&&hn(cr)),t!==v){for(e=[],n=Un();n!==v;)e.push(n),n=Un();r=e!==v?(39===h.charCodeAt(Qe)?(n=ir,Qe++):(n=v,0===on&&hn(cr)),n!==v?(rn=r,t=Ot(e)):(Qe=r,v)):(Qe=r,v)}else Qe=r,r=v}return on--,r===v&&(t=v,0===on&&hn(Rt)),r}function Hn(){var r,t=Qe,e=Qe;return on++,34===h.charCodeAt(Qe)?(r=nr,Qe++):(r=v,0===on&&hn(or)),r===v&&(92===h.charCodeAt(Qe)?(r=Lt,Qe++):(r=v,0===on&&hn(Mt))),on--,(t=(e=r===v?void 0:(Qe=e,v))!==v?(h.length>Qe?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(jt)),r!==v?(rn=t,e=Ht(r)):(Qe=t,v)):(Qe=t,v))===v&&(t=Qe,92===h.charCodeAt(Qe)?(e=Lt,Qe++):(e=v,0===on&&hn(Mt)),t=e!==v&&(r=Yn())!==v?(rn=t,e=Ut(r)):(Qe=t,v)),t}function Un(){var r,t=Qe,e=Qe;return on++,39===h.charCodeAt(Qe)?(r=ir,Qe++):(r=v,0===on&&hn(cr)),r===v&&(92===h.charCodeAt(Qe)?(r=Lt,Qe++):(r=v,0===on&&hn(Mt))),on--,(t=(e=r===v?void 0:(Qe=e,v))!==v?(h.length>Qe?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(jt)),r!==v?(rn=t,e=Ht(r)):(Qe=t,v)):(Qe=t,v))===v&&(t=Qe,92===h.charCodeAt(Qe)?(e=Lt,Qe++):(e=v,0===on&&hn(Mt)),t=e!==v&&(r=Yn())!==v?(rn=t,e=Ut(r)):(Qe=t,v)),t}function Yn(){var r,t;return 39===h.charCodeAt(Qe)?(r=ir,Qe++):(r=v,0===on&&hn(cr)),r===v&&(34===h.charCodeAt(Qe)?(r=nr,Qe++):(r=v,0===on&&hn(or)),r===v&&(92===h.charCodeAt(Qe)?(r=Lt,Qe++):(r=v,0===on&&hn(Mt)),r===v&&(r=Qe,98===h.charCodeAt(Qe)?(t=Yt,Qe++):(t=v,0===on&&hn(Zt)),t!==v&&(rn=r,t=zt()),(r=t)===v&&(r=Qe,102===h.charCodeAt(Qe)?(t=Kt,Qe++):(t=v,0===on&&hn(kt)),t!==v&&(rn=r,t=Bt()),(r=t)===v&&(r=Qe,110===h.charCodeAt(Qe)?(t=Gt,Qe++):(t=v,0===on&&hn(Wt)),t!==v&&(rn=r,t=Vt()),(r=t)===v&&(r=Qe,114===h.charCodeAt(Qe)?(t=$t,Qe++):(t=v,0===on&&hn(Xt)),t!==v&&(rn=r,t=qt()),(r=t)===v&&(r=Qe,116===h.charCodeAt(Qe)?(t=Jt,Qe++):(t=v,0===on&&hn(Qt)),t!==v&&(rn=r,t=re()),(r=t)===v&&(r=Qe,118===h.charCodeAt(Qe)?(t=te,Qe++):(t=v,0===on&&hn(ee)),t!==v&&(rn=r,t=ne()),r=t)))))))),r}function Zn(){var r,t=Qe,e=[];if(Wr.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(Vr)),r!==v)for(;r!==v;)e.push(r),Wr.test(h.charAt(Qe))?(r=h.charAt(Qe),Qe++):(r=v,0===on&&hn(Vr));else e=v;return e!==v&&(rn=t,e=oe(e)),t=e}function zn(){var r;return 124===h.charCodeAt(Qe)?(r=Ae,Qe++):(r=v,0===on&&hn(pe)),r}function Kn(){var r;return 61===h.charCodeAt(Qe)?(r=Ie,Qe++):(r=v,0===on&&hn(me)),r}function kn(){var r;return 43===h.charCodeAt(Qe)?(r=qr,Qe++):(r=v,0===on&&hn(Jr)),r}function Bn(){var r;return 45===h.charCodeAt(Qe)?(r=jr,Qe++):(r=v,0===on&&hn(Hr)),r}function Gn(){var r;return 40===h.charCodeAt(Qe)?(r=Pe,Qe++):(r=v,0===on&&hn(be)),r}function Wn(){var r;return 41===h.charCodeAt(Qe)?(r=we,Qe++):(r=v,0===on&&hn(Se)),r}var Vn="AND",$n="OR",Xn="+",qn=":param_",Jn=["IPv4","IPv6","Array","Array<IPv4>","Array<CIDR_IPv4>","Array<IPv6>","Array<CIDR_IPv6>"],Qn=72e5,ro=/^(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)$/,to=/^((?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(:[a-fA-F\d]{1,4}){0,1}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(:[a-fA-F\d]{1,4}){0,2}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(:[a-fA-F\d]{1,4}){0,3}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(:[a-fA-F\d]{1,4}){0,4}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,6}|:)|(?::((?::[a-fA-F\d]{1,4}){0,5}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(?::[a-fA-F\d]{1,4}){1,7}|:)))(%[0-9a-zA-Z]{1,})?$/,eo=[],no={},oo={},ao=(new Date).getTime();function io(r,t){if(!r||-1===r.indexOf("/"))return!1;var e=r.split("/");if(2!==e.length)return!1;r=_slicedToArray(e,2),e=r[0],r=r[1];if(!e||isNaN(+r))return!1;r=+r;return"IPv4"===t?!!(ro.test(e)&&0<r&&r<=32):"IPv6"===t&&!!(to.test(e)&&0<r&&r<=128)}function co(r){return+r<10?"0".concat(r):r}function uo(r){var t=new Date(r||new Date),e=t.getUTCFullYear(),n=t.getUTCMonth()+1,o=t.getUTCDate(),a=t.getUTCHours(),r=t.getUTCMinutes(),t=t.getUTCSeconds();return e+"-"+co(n)+"-"+co(o)+" "+co(a)+":"+co(r)+":"+co(t)}function fo(r,t){var e=cn(),n=e.start,e=e.end,n=qn+n.line+"_"+n.offset+"_"+e.line+"_"+e.offset,e=n;return"IPv4"===t&&(e="toIPv4(".concat(n,")")),"IPv6"===t&&(e="toIPv6(".concat(n,")")),"Array"===t&&(e="has(".concat(r,", ").concat(n,")=1")),"Array<IPv4>"===t&&(e="has(".concat(r,", toIPv4(").concat(n,"))=1")),"Array<IPv6>"===t&&(e="has(".concat(r,", toIPv6(").concat(n,"))=1")),{paramKey:n,paramName:e}}function so(r,t){oo.hasOwnProperty(r)||(oo[r.replace(":","")]=t)}function lo(r,t,e,n){var o="".concat(r,"_").concat(t||"","_").concat(e,"_").concat(n);no[o]||(no[o]={field:r,fieldType:t,operator:e,operand:n})}var ho=void 0!==(t=r.json)&&t,vo=void 0===(t=r.hasAgingTime)||t,Ao=void 0===(t=r.timePrecision)?9:t,po=void 0===(t=r.includeStartTime)||t,Io=void 0===(r=r.includeEndTime)||r;if((e=e())!==v&&Qe===h.length)return e;throw e!==v&&Qe<h.length&&hn({type:"end"}),vn(nn,en<h.length?h.charAt(en):null,en<h.length?dn(en,en+1):dn(en,en))}}});