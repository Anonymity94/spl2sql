/**
 * splunk-spl-to-sql - Convert Splunk SPL to ClickHouse SQL with pegjs
 * @version v2.6.2
 * @author wangfucheng <wangfucheng@machloop.com>
 * @buildAt 2021-10-14T08:38:04.981Z
 */
function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}function _iterableToArrayLimit(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done)&&(e.push(i.value),!t||e.length!==t);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return e}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}(function(r,t){"function"==typeof define&&define.amd?define([],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():r.splToSqlConverter=t()})(this,function(){"use strict";function So(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,So)}function r(){this.constructor=t}var t,e;return t=So,e=Error,r.prototype=e.prototype,t.prototype=new r,So.buildMessage=function(r,t){var e,a={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){for(var t="",e=0;e<r.parts.length;e++)t+=r.parts[e]instanceof Array?i(r.parts[e][0])+"-"+i(r.parts[e][1]):i(r.parts[e]);return"["+(r.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}function i(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+n(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+n(r)})}return"Expected "+function(r){for(var t,e,n=new Array(r.length),o=0;o<r.length;o++)n[o]=(e=r[o],a[e.type](e));if(n.sort(),0<n.length){for(t=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[t]=n[o],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+((e=t)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:So,parse:function(h,r){var A={},t={start:Pn},e=Pn,u=Cn("SplExpression"),f=function(r,t){var e,n,o=_slicedToArray(r,2),a=(o[0],o[1]),i="",c={WHERE:a};t.forEach(function(r){r&&r[3]&&(c=Object.assign(c,r[3]))}),a&&(i+=a),c.GENTIMES&&(e=(n=c.GENTIMES).time_field,r=n.time_from,o=n.time_to,t=To(r),n=To(o),o=To(r-ho),r="",wo?(r+="(",r+=" start_time >= toDateTime64(:param_aging_start_time, ".concat(Fo,", 'UTC') "),r+=" and start_time < toDateTime64(:param_end_time, ".concat(Fo,", 'UTC') "),r+=" and end_time >= toDateTime64(:param_start_time, ".concat(Fo,", 'UTC') "),r+=")",yo.param_aging_start_time=o):r+="(`"+e+"`"+">= toDateTime64(:param_start_time, ".concat(Fo,", 'UTC') AND ")+"`"+e+"`"+" <= toDateTime64(:param_end_time, ".concat(Fo,", 'UTC'))"),c.WHERE=i+=a?" AND ".concat(r):r,yo.param_start_time=t,yo.param_end_time=n),c.ORDER_BY&&(i+=" "+c.ORDER_BY),c.LIMIT&&(i+=" "+c.LIMIT);i={source:pn(),target:i,params:yo,dev:{expression:c,fields:po,fieldCollection:Object.keys(Io).map(function(r){return Io[r]})}};return bo?{result:i}:{result:JSON.stringify(i)}},s=Cn("SourceAndSearchExpression"),l=function(r,t){return t&&t[1]&&0!==t.length?["",t[1]]:["",""]},d=Cn("SearchExpression"),v=function(r){return r?"("+r+")":""},i=Cn("RegionOr"),c=function(r,t){return r+" OR "+t},p=Cn("RegionAnd"),I=function(r,t){return r+" AND "+t},a=Cn("FactorBlock"),y=function(r){return"("+r+")"},m=Cn("BasicCondition"),C=function(r,t,e){var n=r.fieldName,o=r.fieldType,a="<="===t?"<=":"<"===t?"<":">="===t?">=":">"===t?">":"!="===t?"!=":"="===t?"=":"",i=Eo(n,o),c=i.paramKey,u=i.paramName;if(o&&-1<o.indexOf("Array")&&"="!==a)throw Error("数组类型的字段只支持=、LIKE搜索");if("Array"===o){var f=e.split(",").filter(function(r){return r});if(2<=f.length){var s=[];return f.forEach(function(r,t){t=c+"_"+t;_o(t,r),s.push(t)})," hasAll(".concat(n,", [").concat(s.join(",")," ])=1")}}r="IPv4"===o&&Co(e,"IPv4"),t="IPv6"===o&&Co(e,"IPv6");if(r||t){if("="!==a&&"!="!==a)throw Error("CIDR格式的IP地址只支持等于或不等于搜索");var l=In(),d=l.start,i=l.end,f=so+d.line+"_"+d.offset+"_"+i.line+"_"+i.offset,r=_slicedToArray(e.split("/"),2),t=r[0],l=r[1],d="",i="".concat(f,"_ip"),r="".concat(f,"_mask"),f="!="===a?"NOT":"";return"IPv4"===o&&(Po(n,"CIDR_IPv4",a,e),d="".concat(n," ").concat(f," between IPv4CIDRToRange(toIPv4(").concat(i,"), ").concat(r,").1 and IPv4CIDRToRange(toIPv4(").concat(i,"), ").concat(r,").2")),"IPv6"===o&&(Po(n,"CIDR_IPv6",a,e),d="".concat(n," ").concat(f," between IPv6CIDRToRange(toIPv6(").concat(i,"), ").concat(r,").1 and IPv6CIDRToRange(toIPv6(").concat(i,"), ").concat(r,").2")),f&&(d="((".concat(d,") or isNull(").concat(n,"))")),_o(i,t),_o(r,+l),d}if("Array<CIDR_IPv4>"===o||"Array<CIDR_IPv6>"===o){if("="!==a)throw Error("Array<CIDR_IPv4> 或 Array<CIDR_IPv6> 格式的IP地址只支持等于搜索");if(!Ao.test(e)&&!vo.test(e))throw Error("".concat(e,"不是个正确的IP地址"));l=In(),d=l.start,l=l.end,d=so+d.line+"_"+d.offset+"_"+l.line+"_"+l.offset,l="".concat(d,"_ip"),d="";return"Array<CIDR_IPv4>"===o&&(d="notEmpty(arrayFilter(y -> (toIPv4(".concat(l,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv4CIDRToRange(toIPv4(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),"Array<CIDR_IPv6>"===o&&(d="notEmpty(arrayFilter(y -> (toIPv6(".concat(l,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv6CIDRToRange(toIPv6(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),Po(n,o,a,e),_o(l,e),d}if(a){if("IPv4"===o&&!Ao.test(e)&&!Co(e,"IPv4"))throw Error("".concat(e,"不是个正确的IPv4"));if("Array<IPv4>"===o&&!Ao.test(e))throw Error("".concat(e,"不是个正确的IPv4"));if("IPv6"===o&&!vo.test(e)&&!Co(e,"IPv6"))throw Error("".concat(e,"不是个正确的IPv6"));if("Array<IPv6>"===o&&!vo.test(e))throw Error("".concat(e,"不是个正确的IPv6"));return Po(n,o,a,e),_o(c,e),-1<o.indexOf("Array")?" "+u:"!="===a?"((`"+n+"`"+a+u+") or isNull("+n+"))":"`"+n+"`"+a+u}return""},g=Cn("InCondition"),T=function(r,t){var e=r.fieldName,n=r.fieldType,r=Eo(e,n),o=r.paramKey,r=r.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return t.forEach(function(r,t){t=o+"_"+t;if(_o(t,r),"IPv4"===n){if(!Ao.test(r))throw Error("".concat(r,"不是个正确的IPv4"));a.push("toIPv4(".concat(t,")"))}else{if(!vo.test(r))throw Error("".concat(r,"不是个正确的IPv6"));a.push("toIPv6(".concat(t,")"))}}),"`"+e+"` IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return _o(o,t),"`"+e+"` IN ("+r+")";var i=[];return t.forEach(function(r,t){t=o+"_"+t;if(_o(t,r),"Array<IPv4>"===n){if(!Ao.test(r))throw Error("".concat(r,"不是个正确的IPv4"));i.push("toIPv4(".concat(t,")"))}else if("Array<IPv6>"===n){if(!vo.test(r))throw Error("".concat(r,"不是个正确的IPv6"));i.push("toIPv6(".concat(t,")"))}else i.push(t)})," hasAny(`"+e+"`, ["+i.join(",")+"])=1"},E=Cn("NotInCondition"),_=function(r,t){var e=r.fieldName,n=r.fieldType,r=Eo(e,n),o=r.paramKey,r=r.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return t.forEach(function(r,t){t=o+"_"+t;if(_o(t,r),"IPv4"===n){if(!Ao.test(r))throw Error("".concat(r,"不是个正确的IPv4"));a.push("toIPv4(".concat(t,")"))}else{if(!vo.test(r))throw Error("".concat(r,"不是个正确的IPv6"));a.push("toIPv6(".concat(t,")"))}}),"`"+e+"` NOT IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return _o(o,t),"`"+e+"` NOT IN ("+r+")";var i=[];return t.forEach(function(r,t){t=o+"_"+t;if(_o(t,r),"Array<IPv4>"===n){if(!Ao.test(r))throw Error("".concat(r,"不是个正确的IPv4"));i.push("toIPv4(".concat(t,")"))}else if("Array<IPv6>"===n){if(!vo.test(r))throw Error("".concat(r,"不是个正确的IPv6"));i.push("toIPv6(".concat(t,")"))}else i.push(t)})," hasAny(`"+e+"`, ["+i.join(",")+"])=0"},o=Cn("MultipleValue"),P=function(r,t){t=[r].concat(t);return t.filter(function(r,t,e){return e.indexOf(r)===t})},n=Cn("MoreMultipleValues"),b=",",w=yn(",",!1),F=function(r){return r},S=Cn("LikeCondition"),D=function(r,t){var e=r.fieldName,n=r.fieldType;if(n&&-1<n.indexOf("IP"))throw Error("IP类型的字段不支持LIKE");var o=Eo(e,n),r=o.paramKey,o=o.paramName;return _o(r,"%".concat(t,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x LIKE "+r+",`"+e+"`))":(Po(e,n,"like",t),"`"+e+"` LIKE "+o)},N=Cn("NotLikeCondition"),x=function(r,t){var e=r.fieldName,n=r.fieldType;if(-1<n.indexOf("IP"))throw Error("IP类型的字段不支持 NOT LIKE");var o=Eo(e,n),r=o.paramKey,o=o.paramName;return _o(r,"%".concat(t,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x NOT LIKE "+r+",`"+e+"`))":(Po(e,n,"not_like",t),"`"+e+"` NOT LIKE "+o)},R=Cn("ExistsCondition"),O=function(r){var t=r.fieldName;r.fieldType;return"not empty(`"+t+"`)"},L=Cn("NotExistsCondition"),M=function(r){var t=r.fieldName;r.fieldType;return"empty(`"+t+"`)"},j=Cn("TailCommand"),H=Cn("FieldsCommand"),U=function(r,t){var t=[r].concat(t),e=[],n=[];return t.forEach(function(r){var t=r.op,r=r.field;"+"===t&&e.push(r),"-"===t&&n.push(r)}),{COLUMNS:e.map(function(r){return"`"+r+"`"}).join(",")}},Z=Cn("Column"),Y=function(r,t){return{op:r||"+",field:t}},z=Cn("MoreColumns"),B=function(r){return r},K=Cn("HeadCommand"),k=function(r){if(r<=0)throw Error("返回结果的数量至少为1");return{LIMIT:"LIMIT 0,"+r}},G=Cn("SortCommand"),W=function(r,t,e){return{ORDER_BY:"ORDER BY "+[[r,t]].concat(e).map(function(r){var t=_slicedToArray(r,2),r=t[0];return t[1]+" "+(r&&r!==fo?"DESC":"ASC")})}},$=Cn("MoreSort"),V=function(r,t){return[r,t]},X=Cn("GentimesCommand"),q="start",J=yn("start",!0),Q="end",rr=yn("end",!0),tr=function(r,t,e){var n=mo;return 0<e.length&&(n=e[0][5]),{GENTIMES:{time_field:r,time_from:t,time_to:n}}},er=Cn("TimeValue"),nr='"',or=yn('"',!1),ar=function(r){return r},ir="'",cr=yn("'",!1),ur=Cn("RelativeTime"),fr="now-",sr=yn("now-",!1),lr=function(r,t){var e=new Date(mo);return"y"===t&&(e=e.setFullYear(e.getFullYear()-r)),"M"===t&&(e=e.setMonth(e.getMonth()-r)),"w"===t&&(e=e.setDate(e.getDate()-7*r)),"d"===t&&(e=e.setDate(e.getDate()-r)),"h"!==t&&"H"!==t||(e=e.setHours(e.getHours()-r)),"m"===t&&(e=e.setMinutes(e.getMinutes()-r)),"s"===t&&(e=e.setSeconds(e.getSeconds()-r)),new Date(e).getTime()},dr=Cn("now"),hr="now",Ar=yn("now",!1),vr=function(){return mo},pr=Cn("TimeUnit"),Ir="y",yr=yn("y",!1),mr="M",Cr=yn("M",!1),gr="w",Tr=yn("w",!1),Er="d",_r=yn("d",!1),Pr="h",br=yn("h",!1),wr="H",Fr=yn("H",!1),Sr="m",Dr=yn("m",!1),Nr="s",xr=yn("s",!1),Rr=pn,Or=Cn("Timestamp"),Lr=function(r){if(13!==String(r).length)throw Error("请输入毫秒级的时间戳");return r},Mr=Cn("UTCTime"),jr="-",Hr=yn("-",!1),Ur="T",Zr=yn("T",!1),Yr=":",zr=yn(":",!1),Br=function(r,t,e,n,o,a,i){if(4!==String(r).length||2!==String(t).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DDTHH:mm:ssZ");e="";if(i){n=_slicedToArray(i,3),o=n[0],a=n[1],i=n[2],n=parseInt(a);if(12<n||n<-12)throw Error("错误的时区范围");if(i&&i.length<2||i&&2===i.length&&("0"!==i[0]||"0"!==i[1])||n<10&&("0"!==a.charAt(0)||"0"===a.charAt(0)&&2!==a.length))throw Error("时区格式错误. 未能解析日期字段 [".concat(pn(),"], 请输入 [").concat(o,"0").concat(n,"] 或 [").concat(o,"0").concat(n,":00]"));e=0===i.length?"".concat(pn(),":00"):pn()}else e="".concat(pn(),"+08:00");return new Date(e).getTime()},Kr=Cn("YYYYMMDDHHmmss"),kr=function(r,t,e,n,o,a){if(4!==String(r).length||2!==String(t).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DD HH:mm:ss");return new Date(pn().replace(/ /,"T")+(o=(new Date).getTimezoneOffset(),a=0<o?"-":"+",o=Math.abs(o)/60,"".concat(a).concat(go(o),":00"))).getTime()},Gr=Cn("TimeInteger"),Wr=/^[0-9]/,$r=mn([["0","9"]],!1,!1),Vr=function(r){return r.join("")},Xr=Cn("TimeZone"),qr="+",Jr=yn("+",!1),Qr="00",rt=yn("00",!1),tt=":00",et=yn(":00",!1),nt=function(r,t,e){t=t.join("");return e=e||t.slice(2,4),[r,t.slice(0,2),e]},ot=/^[ \t\r\n]/,at=mn([" ","\t","\r","\n"],!1,!1),it=/^[ ]/,ct=mn([" "],!1,!1),ut=Cn("DataSource"),ft=/^[a-zA-Z0-9._\-*]/,st=mn([["a","z"],["A","Z"],["0","9"],".","_","-","*"],!1,!1),lt=Cn("Field"),dt=/^[A-Za-z0-9_.]/,ht=mn([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),At=function(r){r=r.join("");return-1===po.indexOf(r)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(r)&&po.push(r),r},vt=Cn("FieldWithType"),pt=function(r,t){var e=r.join(""),r=e+(t?"<"+t+">":"");return-1===po.indexOf(r)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(e)&&po.push(r),{fieldName:e,fieldType:t||""}},It=Cn("FieldType"),yt="<",mt=yn("<",!1),Ct=/^[A-Za-z0-9]/,gt=mn([["A","Z"],["a","z"],["0","9"]],!1,!1),Tt=">",Et=yn(">",!1),_t=function(r,t){r=r.join("");if(-1===["IPv4","IPv6","Array"].indexOf(r))throw Error("字段类型只能是".concat(lo.join("、")));return r+(t?"<".concat(t,">"):"")},Pt=Cn("FieldSecondType"),bt=/^[A-Za-z0-9_]/,wt=mn([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ft=function(r){r=r.join("");if(-1===["IPv4","IPv6","CIDR_IPv4","CIDR_IPv6"].indexOf(r))throw Error("字段类型只能是".concat(lo.join("、")));return r},St=Cn("DefaultValue"),Dt=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002]/,Nt=mn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"],!1,!1),xt=function(r){return!isNaN(Number(r))?Number(r):r},Rt=Cn("QuotedValue"),Ot=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*()_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002 ]/,Lt=mn([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","(",")","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"," "],!1,!1),Mt=Cn("Value"),jt=function(r){return r.join("")},Ht="\\",Ut=yn("\\",!1),Zt={type:"any"},Yt=function(r){return r},zt=function(r){return r},Bt="b",Kt=yn("b",!1),kt=function(){return"\b"},Gt="f",Wt=yn("f",!1),$t=function(){return"\f"},Vt="n",Xt=yn("n",!1),qt=function(){return"\n"},Jt="r",Qt=yn("r",!1),re=function(){return"\r"},te="t",ee=yn("t",!1),ne=function(){return"\t"},oe="v",ae=yn("v",!1),ie=function(){return"\v"},ce=/^[^"]/,ue=mn(['"'],!0,!1),fe=function(r){return r.join("")},se=/^[^']/,le=mn(["'"],!0,!1),de=function(){return""},he=function(){return""},Ae=function(r){return parseInt(r.join(""))},ve="and",pe=yn("AND",!0),Ie="&&",ye=yn("&&",!1),me=function(){return co},Ce="or",ge=yn("OR",!0),Te="||",Ee=yn("||",!1),_e=function(){return uo},Pe=(yn("true",!1),yn("false",!1),"|"),be=yn("|",!1),we="=",Fe=yn("=",!1),Se="!=",De=yn("!=",!1),Ne=">=",xe=yn(">=",!1),Re="<=",Oe=yn("<=",!1),Le="(",Me=yn("(",!1),je=")",He=yn(")",!1),Ue="source",Ze=yn("SOURCE",!0),Ye="search",ze=yn("SEARCH",!0),Be="fields",Ke=yn("FIELDS",!0),ke="head",Ge=yn("HEAD",!0),We="sort",$e=yn("SORT",!0),Ve="gentimes",Xe=yn("GENTIMES",!0),qe=(yn("SIZE",!0),yn("TIMEOUT",!0),yn("TRACK_TOTAL_HITS",!0),yn("TERMINATE_AFTER",!0),yn("TOP",!0),yn("LIMIT",!0),"in"),Je=yn("IN",!0),Qe="not in",rn=yn("NOT IN",!0),tn="like",en=yn("LIKE",!0),nn="not like",on=yn("NOT LIKE",!0),an="exists",cn=yn("EXISTS",!0),un="not_exists",fn=yn("NOT_EXISTS",!0),sn=0,ln=0,dn=[{line:1,column:1}],hn=0,An=[],vn=0;if("startRule"in(r=void 0!==r?r:{})){if(!(r.startRule in t))throw new Error("Can't start parsing from rule \""+r.startRule+'".');e=t[r.startRule]}function pn(){return h.substring(ln,sn)}function In(){return Tn(ln,sn)}function yn(r,t){return{type:"literal",text:r,ignoreCase:t}}function mn(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Cn(r){return{type:"other",description:r}}function gn(r){var t,e=dn[r];if(e)return e;for(t=r-1;!dn[t];)t--;for(e={line:(e=dn[t]).line,column:e.column};t<r;)10===h.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return dn[r]=e}function Tn(r,t){var e=gn(r),n=gn(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function En(r){sn<hn||(hn<sn&&(hn=sn,An=[]),An.push(r))}function _n(r,t,e){return new So(So.buildMessage(r,t),r,t,e)}function Pn(){return function(){var r,t,e,n,o,a,i,c;if(vn++,r=sn,(t=function(){var r,t,e,n,o,a,i;vn++,t=r=sn,t=(e=function(){var r;h.substr(sn,6).toLowerCase()===Ue?(r=h.substr(sn,6),sn+=6):(r=A,0===vn&&En(Ze));return r}())!==A?(n=Bn(),n!==A?(o=eo())!==A?(a=Bn())!==A?(i=function(){var r,t,e;vn++,r=sn,t=[],ft.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(st));if(e!==A)for(;e!==A;)t.push(e),ft.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(st));else t=A;r=t!==A?h.substring(r,sn):t;vn--,r===A&&(t=A,0===vn&&En(ut));return r}())!==A?e=[e,n,o,a,i]:(sn=t,A):(sn=t,A):(sn=t,A):(sn=t,A)):(sn=t,A);t===A&&(t=null);r=t!==A?(e=sn,n=Bn(),(e=n!==A?(o=function(){var r,t,e,n,o,a;vn++,t=r=sn,t=(e=to())!==A?(n=Bn(),n!==A?(o=function(){var r;h.substr(sn,6).toLowerCase()===Ye?(r=h.substr(sn,6),sn+=6):(r=A,0===vn&&En(ze));return r}())!==A?(a=zn())!==A?e=[e,n,o,a]:(sn=t,A):(sn=t,A):(sn=t,A)):(sn=t,A);t===A&&(t=null);r=t!==A?(e=bn(),e!==A?(ln=r,t=v(e)):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(d));return r}())!==A?n=[n,o]:(sn=e,A):(sn=e,A))===A&&(e=null),e!==A?(ln=r,t=l(t,e)):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(s));return r}())!==A){for(e=[],n=sn,(o=zn())===A&&(o=null),n=o!==A?(a=to())!==A?((i=zn())===A&&(i=null),i!==A?(c=Nn())!==A?o=[o,a,i,c]:(sn=n,A):(sn=n,A)):(sn=n,A):(sn=n,A);n!==A;)e.push(n),n=sn,(o=zn())===A&&(o=null),n=o!==A?(a=to())!==A?((i=zn())===A&&(i=null),i!==A?(c=Nn())!==A?o=[o,a,i,c]:(sn=n,A):(sn=n,A)):(sn=n,A):(sn=n,A);r=e!==A?((n=Bn())===A&&(n=null),n!==A?(ln=r,t=f(t,e)):(sn=r,A)):(sn=r,A)}else sn=r,r=A;vn--,r===A&&(t=A,0===vn&&En(u));return r}()}function bn(){var r,t,e,n,o,a;if(vn++,r=sn,(t=wn())!==A){if(e=[],(n=Kn())!==A)for(;n!==A;)e.push(n),n=Kn();else e=A;if(e!==A)if((n=function(){var r,t;h.substr(sn,2).toLowerCase()===Ce?(r=h.substr(sn,2),sn+=2):(r=A,0===vn&&En(ge));r===A&&(r=sn,h.substr(sn,2)===Te?(t=Te,sn+=2):(t=A,0===vn&&En(Ee)),t!==A&&(ln=r,t=_e()),r=t);return r}())!==A){if(o=[],(a=Kn())!==A)for(;a!==A;)o.push(a),a=Kn();else o=A;r=o!==A&&(a=bn())!==A?(ln=r,t=c(t,a)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A}else sn=r,r=A;return r===A&&(r=wn()),vn--,r===A&&(t=A,0===vn&&En(i)),r}function wn(){var r,t,e,n,o,a;if(vn++,r=sn,(t=Fn())!==A){if(e=[],(n=Kn())!==A)for(;n!==A;)e.push(n),n=Kn();else e=A;if(e!==A)if((n=function(){var r,t;h.substr(sn,3).toLowerCase()===ve?(r=h.substr(sn,3),sn+=3):(r=A,0===vn&&En(pe));r===A&&(r=sn,h.substr(sn,2)===Ie?(t=Ie,sn+=2):(t=A,0===vn&&En(ye)),t!==A&&(ln=r,t=me()),r=t);return r}())!==A){if(o=[],(a=Kn())!==A)for(;a!==A;)o.push(a),a=Kn();else o=A;r=o!==A&&(a=wn())!==A?(ln=r,t=I(t,a)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A}else sn=r,r=A;return r===A&&(r=Fn()),vn--,r===A&&(t=A,0===vn&&En(p)),r}function Fn(){var r,t,e,n,o;if(vn++,(r=function(){var r,t,e,n;vn++,r=sn,r=(t=Gn())!==A?(n=Bn(),n!==A?((e=eo())===A&&(e=function(){var r;h.substr(sn,2)===Se?(r=Se,sn+=2):(r=A,0===vn&&En(De));return r}())===A&&(e=function(){var r;h.substr(sn,2)===Ne?(r=Ne,sn+=2):(r=A,0===vn&&En(xe));return r}())===A&&(e=function(){var r;62===h.charCodeAt(sn)?(r=Tt,sn++):(r=A,0===vn&&En(Et));return r}())===A&&(e=function(){var r;h.substr(sn,2)===Re?(r=Re,sn+=2):(r=A,0===vn&&En(Oe));return r}())===A&&(e=function(){var r;60===h.charCodeAt(sn)?(r=yt,sn++):(r=A,0===vn&&En(mt));return r}()),e!==A?Bn()!==A?(n=Vn())!==A?(ln=r,t=C(t,e,n)):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A)):(sn=r,A);r===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,2).toLowerCase()===qe?(r=h.substr(sn,2),sn+=2):(r=A,0===vn&&En(Je));return r}()!==A?zn()!==A?ao()!==A?Bn()!==A?(e=Sn())!==A?Bn()!==A?io()!==A?(ln=r,t=T(t,e)):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(g));return r}())===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,6).toLowerCase()===Qe?(r=h.substr(sn,6),sn+=6):(r=A,0===vn&&En(rn));return r}()!==A?zn()!==A?ao()!==A?Bn()!==A?(e=Sn())!==A?Bn()!==A?io()!==A?(ln=r,t=_(t,e)):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(E));return r}())===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,4).toLowerCase()===tn?(r=h.substr(sn,4),sn+=4):(r=A,0===vn&&En(en));return r}()!==A?zn()!==A?(e=Qn())!==A?(ln=r,t=D(t,e)):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(S));return r}())===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,8).toLowerCase()===nn?(r=h.substr(sn,8),sn+=8):(r=A,0===vn&&En(on));return r}()!==A?zn()!==A?(e=Qn())!==A?(ln=r,t=x(t,e)):(sn=r,A):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(N));return r}())===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,6).toLowerCase()===an?(r=h.substr(sn,6),sn+=6):(r=A,0===vn&&En(cn));return r}()!==A?(ln=r,t=O(t)):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(R));return r}())===A&&(r=function(){var r,t,e;vn++,r=sn,r=(t=Gn())!==A?(e=zn(),e!==A?function(){var r;h.substr(sn,10).toLowerCase()===un?(r=h.substr(sn,10),sn+=10):(r=A,0===vn&&En(fn));return r}()!==A?(ln=r,t=M(t)):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(t=A,0===vn&&En(L));return r}());vn--,r===A&&(t=A,0===vn&&En(m));return r}())===A)if(r=sn,ao()!==A){for(t=[],e=Kn();e!==A;)t.push(e),e=Kn();if(t!==A)if((e=bn())!==A){for(n=[],o=Kn();o!==A;)n.push(o),o=Kn();r=n!==A&&(o=io())!==A?(ln=r,y(e)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A}else sn=r,r=A;return vn--,r===A&&(0===vn&&En(a)),r}function Sn(){var r,t,e,n;if(vn++,r=sn,(t=Vn())!==A){for(e=[],n=Dn();n!==A;)e.push(n),n=Dn();r=e!==A?(ln=r,t=P(t,e)):(sn=r,A)}else sn=r,r=A;return vn--,r===A&&(t=A,0===vn&&En(o)),r}function Dn(){var r,t,e;return vn++,r=sn,r=Bn()!==A?(44===h.charCodeAt(sn)?(t=b,sn++):(t=A,0===vn&&En(w)),t!==A&&Bn()!==A&&(e=Vn())!==A?(ln=r,F(e)):(sn=r,A)):(sn=r,A),vn--,r===A&&(0===vn&&En(n)),r}function Nn(){var r;return vn++,(r=function(){var r,t,e,n,o,a,i,c,u,f,s,l;if(vn++,r=sn,Bn()!==A)if(function(){var r;h.substr(sn,8).toLowerCase()===Ve?(r=h.substr(sn,8),sn+=8):(r=A,0===vn&&En(Xe));return r}()!==A)if(zn()!==A)if((t=kn())!==A)if(zn()!==A)if(h.substr(sn,5).toLowerCase()===q?(e=h.substr(sn,5),sn+=5):(e=A,0===vn&&En(J)),e!==A)if(Bn()!==A)if(eo()!==A)if(Bn()!==A)if((e=Ln())!==A){for(n=[],o=sn,a=zn(),o=a!==A?(h.substr(sn,3).toLowerCase()===Q?(i=h.substr(sn,3),sn+=3):(i=A,0===vn&&En(rr)),i!==A?(c=Bn())!==A?(u=eo())!==A?(f=Bn())!==A?(s=Ln())!==A?(l=Bn())!==A?a=[a,i,c,u,f,s,l]:(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A)):(sn=o,A);o!==A;)n.push(o),o=sn,a=zn(),o=a!==A?(h.substr(sn,3).toLowerCase()===Q?(i=h.substr(sn,3),sn+=3):(i=A,0===vn&&En(rr)),i!==A?(c=Bn())!==A?(u=eo())!==A?(f=Bn())!==A?(s=Ln())!==A?(l=Bn())!==A?a=[a,i,c,u,f,s,l]:(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A):(sn=o,A)):(sn=o,A);r=n!==A?(ln=r,tr(t,e,n)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;vn--,r===A&&(0===vn&&En(X));return r}())===A&&(r=function(){var r,t,e,n,o;if(vn++,r=sn,Bn()!==A)if(function(){var r;h.substr(sn,4).toLowerCase()===We?(r=h.substr(sn,4),sn+=4):(r=A,0===vn&&En($e));return r}()!==A)if(zn()!==A)if((t=no())===A&&(t=oo()),t===A&&(t=null),t!==A)if((e=kn())!==A){for(n=[],o=On();o!==A;)n.push(o),o=On();r=n!==A?(ln=r,W(t,e,n)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;vn--,r===A&&(0===vn&&En(G));return r}())===A&&(r=function(){var r,t,e,n;if(vn++,r=sn,Bn()!==A)if(function(){var r;h.substr(sn,6).toLowerCase()===Be?(r=h.substr(sn,6),sn+=6):(r=A,0===vn&&En(Ke));return r}()!==A)if(zn()!==A)if((t=xn())!==A){for(e=[],n=Rn();n!==A;)e.push(n),n=Rn();r=e!==A?(ln=r,U(t,e)):(sn=r,A)}else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;else sn=r,r=A;vn--,r===A&&(0===vn&&En(H));return r}())===A&&(r=function(){var r,t;vn++,r=sn,r=Bn()!==A?(t=function(){var r;h.substr(sn,4).toLowerCase()===ke?(r=h.substr(sn,4),sn+=4):(r=A,0===vn&&En(Ge));return r}(),t!==A?zn()!==A?(t=ro())!==A?(ln=r,k(t)):(sn=r,A):(sn=r,A):(sn=r,A)):(sn=r,A);vn--,r===A&&(0===vn&&En(K));return r}()),vn--,r===A&&(0===vn&&En(j)),r}function xn(){var r,t,e,n,o;return vn++,r=sn,(t=zn())===A&&(t=null),r=t!==A?((e=no())===A&&(e=oo()),e===A&&(e=null),e!==A?((n=zn())===A&&(n=null),n!==A&&(o=kn())!==A?(ln=r,t=Y(e,o)):(sn=r,A)):(sn=r,A)):(sn=r,A),vn--,r===A&&(t=A,0===vn&&En(Z)),r}function Rn(){var r,t,e;return vn++,r=sn,r=Bn()!==A?(44===h.charCodeAt(sn)?(t=b,sn++):(t=A,0===vn&&En(w)),t!==A&&Bn()!==A&&(e=xn())!==A?(ln=r,B(e)):(sn=r,A)):(sn=r,A),vn--,r===A&&(0===vn&&En(z)),r}function On(){var r,t,e;return vn++,r=sn,r=Bn()!==A?(44===h.charCodeAt(sn)?(t=b,sn++):(t=A,0===vn&&En(w)),t!==A&&Bn()!==A?((t=no())===A&&(t=oo()),t===A&&(t=null),t!==A&&(e=kn())!==A?(ln=r,V(t,e)):(sn=r,A)):(sn=r,A)):(sn=r,A),vn--,r===A&&(0===vn&&En($)),r}function Ln(){var r,t,e,n;return vn++,(r=Hn())===A&&(r=Mn())===A&&(r=jn())===A&&(r=sn,34===h.charCodeAt(sn)?(t=nr,sn++):(t=A,0===vn&&En(or)),(r=t!==A?((e=Un())===A&&(e=Zn())===A&&(e=Mn())===A&&(e=jn())===A&&(e=Hn()),e!==A?(34===h.charCodeAt(sn)?(n=nr,sn++):(n=A,0===vn&&En(or)),n!==A?(ln=r,t=ar(e)):(sn=r,A)):(sn=r,A)):(sn=r,A))===A&&(r=sn,39===h.charCodeAt(sn)?(t=ir,sn++):(t=A,0===vn&&En(cr)),r=t!==A?((e=Un())===A&&(e=Zn())===A&&(e=Mn())===A&&(e=jn())===A&&(e=Hn()),e!==A?(39===h.charCodeAt(sn)?(n=ir,sn++):(n=A,0===vn&&En(cr)),n!==A?(ln=r,t=ar(e)):(sn=r,A)):(sn=r,A)):(sn=r,A))),vn--,r===A&&(t=A,0===vn&&En(er)),r}function Mn(){var r,t,e,n;return vn++,r=sn,h.substr(sn,4)===fr?(t=fr,sn+=4):(t=A,0===vn&&En(sr)),r=t!==A&&(e=ro())!==A&&(n=function(){var r,t;vn++,r=sn,121===h.charCodeAt(sn)?(t=Ir,sn++):(t=A,0===vn&&En(yr));t===A&&(77===h.charCodeAt(sn)?(t=mr,sn++):(t=A,0===vn&&En(Cr)),t===A&&(119===h.charCodeAt(sn)?(t=gr,sn++):(t=A,0===vn&&En(Tr)),t===A&&(100===h.charCodeAt(sn)?(t=Er,sn++):(t=A,0===vn&&En(_r)),t===A&&(104===h.charCodeAt(sn)?(t=Pr,sn++):(t=A,0===vn&&En(br)),t===A&&(72===h.charCodeAt(sn)?(t=wr,sn++):(t=A,0===vn&&En(Fr)),t===A&&(109===h.charCodeAt(sn)?(t=Sr,sn++):(t=A,0===vn&&En(Dr)),t===A&&(115===h.charCodeAt(sn)?(t=Nr,sn++):(t=A,0===vn&&En(xr)))))))));t!==A&&(ln=r,t=Rr());vn--,(r=t)===A&&(t=A,0===vn&&En(pr));return r}())!==A?(ln=r,t=lr(e,n)):(sn=r,A),vn--,r===A&&(t=A,0===vn&&En(ur)),r}function jn(){var r,t;return vn++,r=sn,h.substr(sn,3)===hr?(t=hr,sn+=3):(t=A,0===vn&&En(Ar)),t!==A&&(ln=r,t=vr()),vn--,(r=t)===A&&(t=A,0===vn&&En(dr)),r}function Hn(){var r,t;return vn++,r=sn,(t=ro())!==A&&(ln=r,t=Lr(t)),vn--,(r=t)===A&&(t=A,0===vn&&En(Or)),r}function Un(){var r,t,e,n,o,a,i,c,u,f,s,l,d;return vn++,r=sn,r=(t=Yn())!==A?(45===h.charCodeAt(sn)?(e=jr,sn++):(e=A,0===vn&&En(Hr)),e!==A&&(n=Yn())!==A?(45===h.charCodeAt(sn)?(o=jr,sn++):(o=A,0===vn&&En(Hr)),o!==A&&(a=Yn())!==A?(84===h.charCodeAt(sn)?(i=Ur,sn++):(i=A,0===vn&&En(Zr)),i!==A&&(c=Yn())!==A?(58===h.charCodeAt(sn)?(u=Yr,sn++):(u=A,0===vn&&En(zr)),u!==A&&(f=Yn())!==A?(58===h.charCodeAt(sn)?(s=Yr,sn++):(s=A,0===vn&&En(zr)),s!==A&&(l=Yn())!==A&&(d=function(){var r,t,e,n;vn++,r=sn,43===h.charCodeAt(sn)?(t=qr,sn++):(t=A,0===vn&&En(Jr));t===A&&(45===h.charCodeAt(sn)?(t=jr,sn++):(t=A,0===vn&&En(Hr)));if(t!==A){if(e=[],Wr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En($r)),n!==A)for(;n!==A;)e.push(n),Wr.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En($r));else e=A;r=e!==A?(h.substr(sn,2)===Qr?(n=Qr,sn+=2):(n=A,0===vn&&En(rt)),n===A&&(h.substr(sn,3)===tt?(n=tt,sn+=3):(n=A,0===vn&&En(et))),n===A&&(n=null),n!==A?(ln=r,t=nt(t,e,n)):(sn=r,A)):(sn=r,A)}else sn=r,r=A;vn--,r===A&&(t=A,0===vn&&En(Xr));return r}())!==A?(ln=r,t=Br(t,n,a,c,f,l,d)):(sn=r,A)):(sn=r,A)):(sn=r,A)):(sn=r,A)):(sn=r,A)):(sn=r,A),vn--,r===A&&(t=A,0===vn&&En(Mr)),r}function Zn(){var r,t,e,n,o,a,i,c,u,f,s;return vn++,r=sn,r=(t=Yn())!==A?(45===h.charCodeAt(sn)?(e=jr,sn++):(e=A,0===vn&&En(Hr)),e!==A&&(n=Yn())!==A?(45===h.charCodeAt(sn)?(o=jr,sn++):(o=A,0===vn&&En(Hr)),o!==A&&(a=Yn())!==A&&zn()!==A&&(i=Yn())!==A?(58===h.charCodeAt(sn)?(c=Yr,sn++):(c=A,0===vn&&En(zr)),c!==A&&(u=Yn())!==A?(58===h.charCodeAt(sn)?(f=Yr,sn++):(f=A,0===vn&&En(zr)),f!==A&&(s=Yn())!==A?(ln=r,t=kr(t,n,a,i,u,s)):(sn=r,A)):(sn=r,A)):(sn=r,A)):(sn=r,A)):(sn=r,A),vn--,r===A&&(t=A,0===vn&&En(Kr)),r}function Yn(){var r,t,e;if(vn++,r=sn,t=[],Wr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En($r)),e!==A)for(;e!==A;)t.push(e),Wr.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En($r));else t=A;return t!==A&&(ln=r,t=Vr(t)),vn--,(r=t)===A&&(t=A,0===vn&&En(Gr)),r}function zn(){var r,t=[];if(ot.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(at)),r!==A)for(;r!==A;)t.push(r),ot.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(at));else t=A;return t}function Bn(){var r,t=[];for(ot.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(at));r!==A;)t.push(r),ot.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(at));return t}function Kn(){var r;return it.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(ct)),r}function kn(){var r,t,e;if(vn++,r=sn,t=[],dt.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ht)),e!==A)for(;e!==A;)t.push(e),dt.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ht));else t=A;return t!==A&&(ln=r,t=At(t)),vn--,(r=t)===A&&(t=A,0===vn&&En(lt)),r}function Gn(){var r,t,e;if(vn++,r=sn,t=[],dt.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ht)),e!==A)for(;e!==A;)t.push(e),dt.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ht));else t=A;return r=t!==A?((e=function(){var r,t,e,n,o;vn++,r=sn,60===h.charCodeAt(sn)?(t=yt,sn++):(t=A,0===vn&&En(mt));if(t!==A){if(e=[],Ct.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(gt)),n!==A)for(;n!==A;)e.push(n),Ct.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(gt));else e=A;r=e!==A?((n=function(){var r,t,e,n;vn++,r=sn,60===h.charCodeAt(sn)?(t=yt,sn++):(t=A,0===vn&&En(mt));if(t!==A){if(e=[],bt.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(wt)),n!==A)for(;n!==A;)e.push(n),bt.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(wt));else e=A;r=e!==A?(62===h.charCodeAt(sn)?(n=Tt,sn++):(n=A,0===vn&&En(Et)),n!==A?(ln=r,t=Ft(e)):(sn=r,A)):(sn=r,A)}else sn=r,r=A;vn--,r===A&&(t=A,0===vn&&En(Pt));return r}())===A&&(n=null),n!==A?(62===h.charCodeAt(sn)?(o=Tt,sn++):(o=A,0===vn&&En(Et)),o!==A?(ln=r,t=_t(e,n)):(sn=r,A)):(sn=r,A)):(sn=r,A)}else sn=r,r=A;vn--,r===A&&(t=A,0===vn&&En(It));return r}())===A&&(e=null),e!==A?(ln=r,t=pt(t,e)):(sn=r,A)):(sn=r,A),vn--,r===A&&(t=A,0===vn&&En(vt)),r}function Wn(){var r,t,e,n;if(vn++,t=r=sn,e=[],Dt.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(Nt)),n!==A)for(;n!==A;)e.push(n),Dt.test(h.charAt(sn))?(n=h.charAt(sn),sn++):(n=A,0===vn&&En(Nt));else e=A;return(t=e!==A?h.substring(t,sn):e)!==A&&(ln=r,t=xt(t)),vn--,(r=t)===A&&(t=A,0===vn&&En(St)),r}function $n(){var r,t,e;if(vn++,r=sn,t=[],Ot.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(Lt)),e!==A)for(;e!==A;)t.push(e),Ot.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(Lt));else t=A;return r=t!==A?h.substring(r,sn):t,vn--,r===A&&(t=A,0===vn&&En(Rt)),r}function Vn(){var r,t,e,n;if(vn++,(r=Wn())===A){if(r=sn,34===h.charCodeAt(sn)?(t=nr,sn++):(t=A,0===vn&&En(or)),t!==A){for(e=[],n=Xn();n!==A;)e.push(n),n=Xn();r=e!==A?(34===h.charCodeAt(sn)?(n=nr,sn++):(n=A,0===vn&&En(or)),n!==A?(ln=r,t=jt(e)):(sn=r,A)):(sn=r,A)}else sn=r,r=A;if(r===A)if(r=sn,39===h.charCodeAt(sn)?(t=ir,sn++):(t=A,0===vn&&En(cr)),t!==A){for(e=[],n=qn();n!==A;)e.push(n),n=qn();r=e!==A?(39===h.charCodeAt(sn)?(n=ir,sn++):(n=A,0===vn&&En(cr)),n!==A?(ln=r,t=jt(e)):(sn=r,A)):(sn=r,A)}else sn=r,r=A}return vn--,r===A&&(t=A,0===vn&&En(Mt)),r}function Xn(){var r,t=sn,e=sn;return vn++,34===h.charCodeAt(sn)?(r=nr,sn++):(r=A,0===vn&&En(or)),r===A&&(92===h.charCodeAt(sn)?(r=Ht,sn++):(r=A,0===vn&&En(Ut))),vn--,(t=(e=r===A?void 0:(sn=e,A))!==A?(h.length>sn?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(Zt)),r!==A?(ln=t,e=Yt(r)):(sn=t,A)):(sn=t,A))===A&&(t=sn,92===h.charCodeAt(sn)?(e=Ht,sn++):(e=A,0===vn&&En(Ut)),t=e!==A&&(r=Jn())!==A?(ln=t,e=zt(r)):(sn=t,A)),t}function qn(){var r,t=sn,e=sn;return vn++,39===h.charCodeAt(sn)?(r=ir,sn++):(r=A,0===vn&&En(cr)),r===A&&(92===h.charCodeAt(sn)?(r=Ht,sn++):(r=A,0===vn&&En(Ut))),vn--,(t=(e=r===A?void 0:(sn=e,A))!==A?(h.length>sn?(r=h.charAt(sn),sn++):(r=A,0===vn&&En(Zt)),r!==A?(ln=t,e=Yt(r)):(sn=t,A)):(sn=t,A))===A&&(t=sn,92===h.charCodeAt(sn)?(e=Ht,sn++):(e=A,0===vn&&En(Ut)),t=e!==A&&(r=Jn())!==A?(ln=t,e=zt(r)):(sn=t,A)),t}function Jn(){var r,t;return 39===h.charCodeAt(sn)?(r=ir,sn++):(r=A,0===vn&&En(cr)),r===A&&(34===h.charCodeAt(sn)?(r=nr,sn++):(r=A,0===vn&&En(or)),r===A&&(92===h.charCodeAt(sn)?(r=Ht,sn++):(r=A,0===vn&&En(Ut)),r===A&&(r=sn,98===h.charCodeAt(sn)?(t=Bt,sn++):(t=A,0===vn&&En(Kt)),t!==A&&(ln=r,t=kt()),(r=t)===A&&(r=sn,102===h.charCodeAt(sn)?(t=Gt,sn++):(t=A,0===vn&&En(Wt)),t!==A&&(ln=r,t=$t()),(r=t)===A&&(r=sn,110===h.charCodeAt(sn)?(t=Vt,sn++):(t=A,0===vn&&En(Xt)),t!==A&&(ln=r,t=qt()),(r=t)===A&&(r=sn,114===h.charCodeAt(sn)?(t=Jt,sn++):(t=A,0===vn&&En(Qt)),t!==A&&(ln=r,t=re()),(r=t)===A&&(r=sn,116===h.charCodeAt(sn)?(t=te,sn++):(t=A,0===vn&&En(ee)),t!==A&&(ln=r,t=ne()),(r=t)===A&&(r=sn,118===h.charCodeAt(sn)?(t=oe,sn++):(t=A,0===vn&&En(ae)),t!==A&&(ln=r,t=ie()),r=t)))))))),r}function Qn(){var r,t,e,n=Wn();if(n===A){if(n=sn,34===h.charCodeAt(sn)?(r=nr,sn++):(r=A,0===vn&&En(or)),r!==A){if(t=[],(e=$n())===A&&(ce.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ue))),e!==A)for(;e!==A;)t.push(e),(e=$n())===A&&(ce.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(ue)));else t=A;n=t!==A?(34===h.charCodeAt(sn)?(e=nr,sn++):(e=A,0===vn&&En(or)),e!==A?(ln=n,r=fe(t)):(sn=n,A)):(sn=n,A)}else sn=n,n=A;if(n===A){if(n=sn,39===h.charCodeAt(sn)?(r=ir,sn++):(r=A,0===vn&&En(cr)),r!==A){if(t=[],(e=$n())===A&&(se.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(le))),e!==A)for(;e!==A;)t.push(e),(e=$n())===A&&(se.test(h.charAt(sn))?(e=h.charAt(sn),sn++):(e=A,0===vn&&En(le)));else t=A;n=t!==A?(39===h.charCodeAt(sn)?(e=ir,sn++):(e=A,0===vn&&En(cr)),e!==A?(ln=n,r=fe(t)):(sn=n,A)):(sn=n,A)}else sn=n,n=A;n===A&&(n=sn,34===h.charCodeAt(sn)?(r=nr,sn++):(r=A,0===vn&&En(or)),(n=r!==A?(34===h.charCodeAt(sn)?(t=nr,sn++):(t=A,0===vn&&En(or)),t!==A?(ln=n,r=de()):(sn=n,A)):(sn=n,A))===A&&(n=sn,39===h.charCodeAt(sn)?(r=ir,sn++):(r=A,0===vn&&En(cr)),n=r!==A?(39===h.charCodeAt(sn)?(t=ir,sn++):(t=A,0===vn&&En(cr)),t!==A?(ln=n,r=he()):(sn=n,A)):(sn=n,A)))}}return n}function ro(){var r,t=sn,e=[];if(Wr.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En($r)),r!==A)for(;r!==A;)e.push(r),Wr.test(h.charAt(sn))?(r=h.charAt(sn),sn++):(r=A,0===vn&&En($r));else e=A;return e!==A&&(ln=t,e=Ae(e)),t=e}function to(){var r;return 124===h.charCodeAt(sn)?(r=Pe,sn++):(r=A,0===vn&&En(be)),r}function eo(){var r;return 61===h.charCodeAt(sn)?(r=we,sn++):(r=A,0===vn&&En(Fe)),r}function no(){var r;return 43===h.charCodeAt(sn)?(r=qr,sn++):(r=A,0===vn&&En(Jr)),r}function oo(){var r;return 45===h.charCodeAt(sn)?(r=jr,sn++):(r=A,0===vn&&En(Hr)),r}function ao(){var r;return 40===h.charCodeAt(sn)?(r=Le,sn++):(r=A,0===vn&&En(Me)),r}function io(){var r;return 41===h.charCodeAt(sn)?(r=je,sn++):(r=A,0===vn&&En(He)),r}var co="AND",uo="OR",fo="+",so=":param_",lo=["IPv4","IPv6","Array","Array<IPv4>","Array<CIDR_IPv4>","Array<IPv6>","Array<CIDR_IPv6>"],ho=72e5,Ao=/^(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)$/,vo=/^((?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(:[a-fA-F\d]{1,4}){0,1}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(:[a-fA-F\d]{1,4}){0,2}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(:[a-fA-F\d]{1,4}){0,3}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(:[a-fA-F\d]{1,4}){0,4}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,6}|:)|(?::((?::[a-fA-F\d]{1,4}){0,5}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(?::[a-fA-F\d]{1,4}){1,7}|:)))(%[0-9a-zA-Z]{1,})?$/,po=[],Io={},yo={},mo=(new Date).getTime();function Co(r,t){if(!r||-1===r.indexOf("/"))return!1;var e=r.split("/");if(2!==e.length)return!1;r=_slicedToArray(e,2),e=r[0],r=r[1];if(!e||isNaN(+r))return!1;r=+r;return"IPv4"===t?!!(Ao.test(e)&&0<r&&r<=32):"IPv6"===t&&!!(vo.test(e)&&0<r&&r<=128)}function go(r){return+r<10?"0".concat(r):r}function To(r){var t=new Date(r||new Date),e=t.getUTCFullYear(),n=t.getUTCMonth()+1,o=t.getUTCDate(),a=t.getUTCHours(),r=t.getUTCMinutes(),t=t.getUTCSeconds();return e+"-"+go(n)+"-"+go(o)+" "+go(a)+":"+go(r)+":"+go(t)}function Eo(r,t){var e=In(),n=e.start,e=e.end,n=so+n.line+"_"+n.offset+"_"+e.line+"_"+e.offset,e=n;return"IPv4"===t&&(e="toIPv4(".concat(n,")")),"IPv6"===t&&(e="toIPv6(".concat(n,")")),"Array"===t&&(e="has(".concat(r,", ").concat(n,")=1")),"Array<IPv4>"===t&&(e="has(".concat(r,", toIPv4(").concat(n,"))=1")),"Array<IPv6>"===t&&(e="has(".concat(r,", toIPv6(").concat(n,"))=1")),{paramKey:n,paramName:e}}function _o(r,t){yo.hasOwnProperty(r)||(yo[r.replace(":","")]=t)}function Po(r,t,e,n){var o="".concat(r,"_").concat(t||"","_").concat(e,"_").concat(n);Io[o]||(Io[o]={field:r,fieldType:t,operator:e,operand:n})}var bo=void 0!==(t=r.json)&&t,wo=void 0===(t=r.hasAgingTime)||t,Fo=void 0===(r=r.timePrecision)?9:r;if((e=e())!==A&&sn===h.length)return e;throw e!==A&&sn<h.length&&En({type:"end"}),_n(An,hn<h.length?h.charAt(hn):null,hn<h.length?Tn(hn,hn+1):Tn(hn,hn))}}});