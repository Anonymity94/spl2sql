/**
 * splunk-spl-to-sql - Convert Splunk SPL to ClickHouse SQL with pegjs
 * @version v2.6.0
 * @author wangfucheng <wangfucheng@machloop.com>
 * @buildAt 2021-08-12T08:06:32.397Z
 */
function _slicedToArray(t,r){return _arrayWithHoles(t)||_iterableToArrayLimit(t,r)||_unsupportedIterableToArray(t,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function _iterableToArrayLimit(t,r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var e=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(e.push(i.value),!r||e.length!==r);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(t,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=r():t.splToSqlConverter=r()})(this,function(){"use strict";function ro(t,r,e,n){this.message=t,this.expected=r,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ro)}function t(){this.constructor=r}var r,e;return r=ro,e=Error,t.prototype=e.prototype,r.prototype=new t,ro.buildMessage=function(t,r){var e,a={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){for(var r="",e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}return"Expected "+function(t){for(var r,e,n=new Array(t.length),o=0;o<t.length;o++)n[o]=(e=t[o],a[e.type](e));if(n.sort(),0<n.length){for(r=o=1;o<n.length;o++)n[o-1]!==n[o]&&(n[r]=n[o],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+((e=r)?'"'+o(e)+'"':"end of input")+" found."},{SyntaxError:ro,parse:function(h,t){var A={},r={start:tn},e=tn,u=Ve("SplExpression"),s=function(t,r){var e,n,o=_slicedToArray(t,2),a=(o[0],o[1]),i="",c={WHERE:a};r.forEach(function(t){t&&t[3]&&(c=Object.assign(c,t[3]))}),a&&(i+=a),c.GENTIMES&&(e=(n=c.GENTIMES).time_field,t=n.time_from,o=n.time_to,r=$n(t),n=$n(o),o=$n(t-Un),t="",Qn?(t+="(",t+=" start_time >= toDateTime64(:param_aging_start_time, ".concat(to,", 'UTC') "),t+=" and start_time < toDateTime64(:param_end_time, ".concat(to,", 'UTC') "),t+=" and end_time >= toDateTime64(:param_start_time, ".concat(to,", 'UTC') "),t+=")",Kn.param_aging_start_time=o):t+="(`"+e+"`"+">= toDateTime64(:param_start_time, ".concat(to,", 'UTC') AND ")+"`"+e+"`"+" <= toDateTime64(:param_end_time, ".concat(to,", 'UTC'))"),c.WHERE=i+=a?" AND ".concat(t):t,Kn.param_start_time=r,Kn.param_end_time=n),c.ORDER_BY&&(i+=" "+c.ORDER_BY),c.LIMIT&&(i+=" "+c.LIMIT);i={source:ke(),target:i,params:Kn,dev:{expression:c,fields:zn,fieldCollection:Object.keys(Bn).map(function(t){return Bn[t]})}};return Jn?{result:i}:{result:JSON.stringify(i)}},f=Ve("SourceAndSearchExpression"),l=function(t,r){return r&&r[1]&&0!==r.length?["",r[1]]:["",""]},d=Ve("SearchExpression"),v=function(t){return t?"("+t+")":""},i=Ve("RegionOr"),c=function(t,r){return t+" OR "+r},p=Ve("RegionAnd"),I=function(t,r){return t+" AND "+r},a=Ve("FactorBlock"),m=function(t){return"("+t+")"},y=Ve("BasicCondition"),C=function(t,r,e){var n=t.fieldName,o=t.fieldType,a="<="===r?"<=":"<"===r?"<":">="===r?">=":">"===r?">":"!="===r?"!=":"="===r?"=":"",i=Vn(n,o),c=i.paramKey,u=i.paramName;if(o&&-1<o.indexOf("Array")&&"="!==a)throw Error("数组类型的字段只支持=、LIKE搜索");var s="IPv4"===o&&Gn(e,"IPv4"),t="IPv6"===o&&Gn(e,"IPv6");if(s||t){if("="!==a&&"!="!==a)throw Error("CIDR格式的IP地址只支持等于或不等于搜索");var f=Ge(),l=f.start,r=f.end,i=jn+l.line+"_"+l.offset+"_"+r.line+"_"+r.offset,s=_slicedToArray(e.split("/"),2),t=s[0],f=s[1],l="",r="".concat(i,"_ip"),s="".concat(i,"_mask"),i="!="===a?"NOT":"";return"IPv4"===o&&(qn(n,"CIDR_IPv4",a,e),l="".concat(n," ").concat(i," between IPv4CIDRToRange(toIPv4(").concat(r,"), ").concat(s,").1 and IPv4CIDRToRange(toIPv4(").concat(r,"), ").concat(s,").2")),"IPv6"===o&&(qn(n,"CIDR_IPv6",a,e),l="".concat(n," ").concat(i," between IPv6CIDRToRange(toIPv6(").concat(r,"), ").concat(s,").1 and IPv6CIDRToRange(toIPv6(").concat(r,"), ").concat(s,").2")),i&&(l="((".concat(l,") or isNull(").concat(n,"))")),Xn(r,t),Xn(s,+f),l}if("Array<CIDR_IPv4>"===o||"Array<CIDR_IPv6>"===o){if("="!==a)throw Error("Array<CIDR_IPv4> 或 Array<CIDR_IPv6> 格式的IP地址只支持等于搜索");if(!Zn.test(e)&&!Yn.test(e))throw Error("".concat(e,"不是个正确的IP地址"));f=Ge(),l=f.start,f=f.end,l=jn+l.line+"_"+l.offset+"_"+f.line+"_"+f.offset,f="".concat(l,"_ip"),l="";return"Array<CIDR_IPv4>"===o&&(l="notEmpty(arrayFilter(y -> (toIPv4(".concat(f,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv4CIDRToRange(toIPv4(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),"Array<CIDR_IPv6>"===o&&(l="notEmpty(arrayFilter(y -> (toIPv6(".concat(f,") BETWEEN y.1 AND y.2), arrayMap(x -> (IPv6CIDRToRange(toIPv6(splitByChar('/', x)[1]), toUInt8(splitByChar('/', x)[2]))), ").concat(n,")))")),qn(n,o,a,e),Xn(f,e),l}if(a){if("IPv4"===o&&!Zn.test(e)&&!Gn(e,"IPv4"))throw Error("".concat(e,"不是个正确的IPv4"));if("Array<IPv4>"===o&&!Zn.test(e))throw Error("".concat(e,"不是个正确的IPv4"));if("IPv6"===o&&!Yn.test(e)&&!Gn(e,"IPv6"))throw Error("".concat(e,"不是个正确的IPv6"));if("Array<IPv6>"===o&&!Yn.test(e))throw Error("".concat(e,"不是个正确的IPv6"));return qn(n,o,a,e),Xn(c,e),-1<o.indexOf("Array")?" "+u:"!="===a?"((`"+n+"`"+a+u+") or isNull("+n+"))":"`"+n+"`"+a+u}return""},g=Ve("InCondition"),T=function(t,r){var e=t.fieldName,n=t.fieldType,t=Vn(e,n),o=t.paramKey,t=t.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return r.forEach(function(t,r){r=o+"_"+r;if(Xn(r,t),"IPv4"===n){if(!Zn.test(t))throw Error("".concat(t,"不是个正确的IPv4"));a.push("toIPv4(".concat(r,")"))}else{if(!Yn.test(t))throw Error("".concat(t,"不是个正确的IPv6"));a.push("toIPv6(".concat(r,")"))}}),"`"+e+"` IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return Xn(o,r),"`"+e+"` IN ("+t+")";var i=[];return r.forEach(function(t,r){r=o+"_"+r;if(Xn(r,t),"Array<IPv4>"===n){if(!Zn.test(t))throw Error("".concat(t,"不是个正确的IPv4"));i.push("toIPv4(".concat(r,")"))}else if("Array<IPv6>"===n){if(!Yn.test(t))throw Error("".concat(t,"不是个正确的IPv6"));i.push("toIPv6(".concat(r,")"))}else i.push(r)})," hasAny(`"+e+"`, ["+i.join(",")+"])=1"},E=Ve("NotInCondition"),_=function(t,r){var e=t.fieldName,n=t.fieldType,t=Vn(e,n),o=t.paramKey,t=t.paramName;if("IPv4"===n||"IPv6"===n){var a=[];return r.forEach(function(t,r){r=o+"_"+r;if(Xn(r,t),"IPv4"===n){if(!Zn.test(t))throw Error("".concat(t,"不是个正确的IPv4"));a.push("toIPv4(".concat(r,")"))}else{if(!Yn.test(t))throw Error("".concat(t,"不是个正确的IPv6"));a.push("toIPv6(".concat(r,")"))}}),"`"+e+"` NOT IN ("+a.join(",")+")"}if("Array"!==n&&"Array<IPv4>"!==n&&"Array<IPv6>"!==n)return Xn(o,r),"`"+e+"` NOT IN ("+t+")";var i=[];return r.forEach(function(t,r){r=o+"_"+r;if(Xn(r,t),"Array<IPv4>"===n){if(!Zn.test(t))throw Error("".concat(t,"不是个正确的IPv4"));i.push("toIPv4(".concat(r,")"))}else if("Array<IPv6>"===n){if(!Yn.test(t))throw Error("".concat(t,"不是个正确的IPv6"));i.push("toIPv6(".concat(r,")"))}else i.push(r)})," hasAny(`"+e+"`, ["+i.join(",")+"])=0"},o=Ve("MultipleValue"),P=function(t,r){r=[t].concat(r);return r.filter(function(t,r,e){return e.indexOf(t)===r})},n=Ve("MoreMultipleValues"),b=",",w=We(",",!1),F=function(t){return t},S=Ve("LikeCondition"),D=function(t,r){var e=t.fieldName,n=t.fieldType;if(n&&-1<n.indexOf("IP"))throw Error("IP类型的字段不支持LIKE");var o=Vn(e,n),t=o.paramKey,o=o.paramName;return Xn(t,"%".concat(r,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x LIKE "+t+",`"+e+"`))":(qn(e,n,"like",r),"`"+e+"` LIKE "+o)},N=Ve("NotLikeCondition"),x=function(t,r){var e=t.fieldName,n=t.fieldType;if(-1<n.indexOf("IP"))throw Error("IP类型的字段不支持 NOT LIKE");var o=Vn(e,n),t=o.paramKey,o=o.paramName;return Xn(t,"%".concat(r,"%")),"Array"===n?" notEmpty(arrayFilter(x -> x NOT LIKE "+t+",`"+e+"`))":(qn(e,n,"not_like",r),"`"+e+"` NOT LIKE "+o)},R=Ve("ExistsCondition"),O=function(t){var r=t.fieldName;t.fieldType;return"not empty(`"+r+"`)"},L=Ve("NotExistsCondition"),M=function(t){var r=t.fieldName;t.fieldType;return"empty(`"+r+"`)"},j=Ve("TailCommand"),H=Ve("FieldsCommand"),U=function(t,r){var r=[t].concat(r),e=[],n=[];return r.forEach(function(t){var r=t.op,t=t.field;"+"===r&&e.push(t),"-"===r&&n.push(t)}),{COLUMNS:e.map(function(t){return"`"+t+"`"}).join(",")}},Z=Ve("Column"),Y=function(t,r){return{op:t||"+",field:r}},z=Ve("MoreColumns"),B=function(t){return t},K=Ve("HeadCommand"),k=function(t){if(t<=0)throw Error("返回结果的数量至少为1");return{LIMIT:"LIMIT 0,"+t}},G=Ve("SortCommand"),W=function(t,r,e){return{ORDER_BY:"ORDER BY "+[[t,r]].concat(e).map(function(t){var r=_slicedToArray(t,2),t=r[0];return r[1]+" "+(t&&t!==Mn?"DESC":"ASC")})}},$=Ve("MoreSort"),V=function(t,r){return[t,r]},X=Ve("GentimesCommand"),q="start",J=We("start",!0),Q="end",tt=We("end",!0),rt=function(t,r,e){var n=kn;return 0<e.length&&(n=e[0][5]),{GENTIMES:{time_field:t,time_from:r,time_to:n}}},et=Ve("TimeValue"),nt='"',ot=We('"',!1),at=function(t){return t},it="'",ct=We("'",!1),ut=Ve("RelativeTime"),st="now-",ft=We("now-",!1),lt=function(t,r){var e=new Date(kn);return"y"===r&&(e=e.setFullYear(e.getFullYear()-t)),"M"===r&&(e=e.setMonth(e.getMonth()-t)),"w"===r&&(e=e.setDate(e.getDate()-7*t)),"d"===r&&(e=e.setDate(e.getDate()-t)),"h"!==r&&"H"!==r||(e=e.setHours(e.getHours()-t)),"m"===r&&(e=e.setMinutes(e.getMinutes()-t)),"s"===r&&(e=e.setSeconds(e.getSeconds()-t)),new Date(e).getTime()},dt=Ve("now"),ht="now",At=We("now",!1),vt=function(){return kn},pt=Ve("TimeUnit"),It="y",mt=We("y",!1),yt="M",Ct=We("M",!1),gt="w",Tt=We("w",!1),Et="d",_t=We("d",!1),Pt="h",bt=We("h",!1),wt="H",Ft=We("H",!1),St="m",Dt=We("m",!1),Nt="s",xt=We("s",!1),Rt=ke,Ot=Ve("Timestamp"),Lt=function(t){if(13!==String(t).length)throw Error("请输入毫秒级的时间戳");return t},Mt=Ve("UTCTime"),jt="-",Ht=We("-",!1),Ut="T",Zt=We("T",!1),Yt=":",zt=We(":",!1),Bt=function(t,r,e,n,o,a,i){if(4!==String(t).length||2!==String(r).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DDTHH:mm:ssZ");e="";if(i){n=_slicedToArray(i,3),o=n[0],a=n[1],i=n[2],n=parseInt(a);if(12<n||n<-12)throw Error("错误的时区范围");if(i&&i.length<2||i&&2===i.length&&("0"!==i[0]||"0"!==i[1])||n<10&&("0"!==a.charAt(0)||"0"===a.charAt(0)&&2!==a.length))throw Error("时区格式错误. 未能解析日期字段 [".concat(ke(),"], 请输入 [").concat(o,"0").concat(n,"] 或 [").concat(o,"0").concat(n,":00]"));e=0===i.length?"".concat(ke(),":00"):ke()}else e="".concat(ke(),"+08:00");return new Date(e).getTime()},Kt=Ve("YYYYMMDDHHmmss"),kt=function(t,r,e,n,o,a){if(4!==String(t).length||2!==String(r).length||2!==String(e).length||2!==String(n).length||2!==String(o).length||2!==String(a).length)throw Error("时间格式错误。时间格式：YYYY-MM-DD HH:mm:ss");return new Date(ke().replace(/ /,"T")+(o=(new Date).getTimezoneOffset(),a=0<o?"-":"+",o=Math.abs(o)/60,"".concat(a).concat(Wn(o),":00"))).getTime()},Gt=Ve("TimeInteger"),Wt=/^[0-9]/,$t=$e([["0","9"]],!1,!1),Vt=function(t){return t.join("")},Xt=Ve("TimeZone"),qt="+",Jt=We("+",!1),Qt="00",tr=We("00",!1),rr=":00",er=We(":00",!1),nr=function(t,r,e){r=r.join("");return e=e||r.slice(2,4),[t,r.slice(0,2),e]},or=/^[ \t\r\n]/,ar=$e([" ","\t","\r","\n"],!1,!1),ir=/^[ ]/,cr=$e([" "],!1,!1),ur=Ve("DataSource"),sr=/^[a-zA-Z0-9._\-*]/,fr=$e([["a","z"],["A","Z"],["0","9"],".","_","-","*"],!1,!1),lr=Ve("Field"),dr=/^[A-Za-z0-9_.]/,hr=$e([["A","Z"],["a","z"],["0","9"],"_","."],!1,!1),Ar=function(t){t=t.join("");return-1===zn.indexOf(t)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(t)&&zn.push(t),t},vr=Ve("FieldWithType"),pr=function(t,r){var e=t.join(""),t=e+(r?"<"+r+">":"");return-1===zn.indexOf(t)&&-1===["fields","FIELDS","sort","SORT","gentimes","GENTIMES","head","HEAD"].indexOf(e)&&zn.push(t),{fieldName:e,fieldType:r||""}},Ir=Ve("FieldType"),mr="<",yr=We("<",!1),Cr=/^[A-Za-z0-9]/,gr=$e([["A","Z"],["a","z"],["0","9"]],!1,!1),Tr=">",Er=We(">",!1),_r=function(t,r){t=t.join("");if(-1===["IPv4","IPv6","Array"].indexOf(t))throw Error("字段类型只能是".concat(Hn.join("、")));return t+(r?"<".concat(r,">"):"")},Pr=Ve("FieldSecondType"),br=/^[A-Za-z0-9_]/,wr=$e([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Fr=function(t){t=t.join("");if(-1===["IPv4","IPv6","CIDR_IPv4","CIDR_IPv6"].indexOf(t))throw Error("字段类型只能是".concat(Hn.join("、")));return t},Sr=Ve("DefaultValue"),Dr=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002]/,Nr=$e([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"],!1,!1),xr=function(t){return!isNaN(Number(t))?Number(t):t},Rr=Ve("QuotedValue"),Or=/^[\u4E00-\u9FA5_a-zA-Z0-9a-zA-Z0-9~\xB7!@#$%\^&*()_\-+={}[\]\\<>,.?\/:;\uFF01\uFFE5\uFF1B\uFF1A\uFF0C\u3002 ]/,Lr=$e([["一","龥"],"_",["a","z"],["A","Z"],["0","9"],["a","z"],["A","Z"],["0","9"],"~","·","!","@","#","$","%","^","&","*","(",")","_","-","+","=","{","}","[","]","\\","<",">",",",".","?","/",":",";","！","￥","；","：","，","。"," "],!1,!1),Mr=Ve("Value"),jr=/^[^"]/,Hr=$e(['"'],!0,!1),Ur=function(t){return t.join("")},Zr=/^[^']/,Yr=$e(["'"],!0,!1),zr=function(){return""},Br=function(){return""},Kr=function(t){return parseInt(t.join(""))},kr="and",Gr=We("AND",!0),Wr="&&",$r=We("&&",!1),Vr=function(){return On},Xr="or",qr=We("OR",!0),Jr="||",Qr=We("||",!1),te=function(){return Ln},re=(We("true",!1),We("false",!1),"|"),ee=We("|",!1),ne="=",oe=We("=",!1),ae="!=",ie=We("!=",!1),ce=">=",ue=We(">=",!1),se="<=",fe=We("<=",!1),le="(",de=We("(",!1),he=")",Ae=We(")",!1),ve="source",pe=We("SOURCE",!0),Ie="search",me=We("SEARCH",!0),ye="fields",Ce=We("FIELDS",!0),ge="head",Te=We("HEAD",!0),Ee="sort",_e=We("SORT",!0),Pe="gentimes",be=We("GENTIMES",!0),we=(We("SIZE",!0),We("TIMEOUT",!0),We("TRACK_TOTAL_HITS",!0),We("TERMINATE_AFTER",!0),We("TOP",!0),We("LIMIT",!0),"in"),Fe=We("IN",!0),Se="not in",De=We("NOT IN",!0),Ne="like",xe=We("LIKE",!0),Re="not like",Oe=We("NOT LIKE",!0),Le="exists",Me=We("EXISTS",!0),je="not_exists",He=We("NOT_EXISTS",!0),Ue=0,Ze=0,Ye=[{line:1,column:1}],ze=0,Be=[],Ke=0;if("startRule"in(t=void 0!==t?t:{})){if(!(t.startRule in r))throw new Error("Can't start parsing from rule \""+t.startRule+'".');e=r[t.startRule]}function ke(){return h.substring(Ze,Ue)}function Ge(){return qe(Ze,Ue)}function We(t,r){return{type:"literal",text:t,ignoreCase:r}}function $e(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function Ve(t){return{type:"other",description:t}}function Xe(t){var r,e=Ye[t];if(e)return e;for(r=t-1;!Ye[r];)r--;for(e={line:(e=Ye[r]).line,column:e.column};r<t;)10===h.charCodeAt(r)?(e.line++,e.column=1):e.column++,r++;return Ye[t]=e}function qe(t,r){var e=Xe(t),n=Xe(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Je(t){Ue<ze||(ze<Ue&&(ze=Ue,Be=[]),Be.push(t))}function Qe(t,r,e){return new ro(ro.buildMessage(t,r),t,r,e)}function tn(){return function(){var t,r,e,n,o,a,i,c;if(Ke++,t=Ue,(r=function(){var t,r,e,n,o,a,i;Ke++,r=t=Ue,r=(e=function(){var t;h.substr(Ue,6).toLowerCase()===ve?(t=h.substr(Ue,6),Ue+=6):(t=A,0===Ke&&Je(pe));return t}())!==A?(n=yn(),n!==A?(o=Sn())!==A?(a=yn())!==A?(i=function(){var t,r,e;Ke++,t=Ue,r=[],sr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(fr));if(e!==A)for(;e!==A;)r.push(e),sr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(fr));else r=A;t=r!==A?h.substring(t,Ue):r;Ke--,t===A&&(r=A,0===Ke&&Je(ur));return t}())!==A?e=[e,n,o,a,i]:(Ue=r,A):(Ue=r,A):(Ue=r,A):(Ue=r,A)):(Ue=r,A);r===A&&(r=null);t=r!==A?(e=Ue,n=yn(),(e=n!==A?(o=function(){var t,r,e,n,o,a;Ke++,r=t=Ue,r=(e=Fn())!==A?(n=yn(),n!==A?(o=function(){var t;h.substr(Ue,6).toLowerCase()===Ie?(t=h.substr(Ue,6),Ue+=6):(t=A,0===Ke&&Je(me));return t}())!==A?(a=mn())!==A?e=[e,n,o,a]:(Ue=r,A):(Ue=r,A):(Ue=r,A)):(Ue=r,A);r===A&&(r=null);t=r!==A?(e=rn(),e!==A?(Ze=t,r=v(e)):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(d));return t}())!==A?n=[n,o]:(Ue=e,A):(Ue=e,A))===A&&(e=null),e!==A?(Ze=t,r=l(r,e)):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(f));return t}())!==A){for(e=[],n=Ue,(o=mn())===A&&(o=null),n=o!==A?(a=Fn())!==A?((i=mn())===A&&(i=null),i!==A?(c=cn())!==A?o=[o,a,i,c]:(Ue=n,A):(Ue=n,A)):(Ue=n,A):(Ue=n,A);n!==A;)e.push(n),n=Ue,(o=mn())===A&&(o=null),n=o!==A?(a=Fn())!==A?((i=mn())===A&&(i=null),i!==A?(c=cn())!==A?o=[o,a,i,c]:(Ue=n,A):(Ue=n,A)):(Ue=n,A):(Ue=n,A);t=e!==A?((n=yn())===A&&(n=null),n!==A?(Ze=t,r=s(r,e)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;Ke--,t===A&&(r=A,0===Ke&&Je(u));return t}()}function rn(){var t,r,e,n,o,a;if(Ke++,t=Ue,(r=en())!==A){if(e=[],(n=Cn())!==A)for(;n!==A;)e.push(n),n=Cn();else e=A;if(e!==A)if((n=function(){var t,r;h.substr(Ue,2).toLowerCase()===Xr?(t=h.substr(Ue,2),Ue+=2):(t=A,0===Ke&&Je(qr));t===A&&(t=Ue,h.substr(Ue,2)===Jr?(r=Jr,Ue+=2):(r=A,0===Ke&&Je(Qr)),r!==A&&(Ze=t,r=te()),t=r);return t}())!==A){if(o=[],(a=Cn())!==A)for(;a!==A;)o.push(a),a=Cn();else o=A;t=o!==A&&(a=rn())!==A?(Ze=t,r=c(r,a)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A}else Ue=t,t=A;return t===A&&(t=en()),Ke--,t===A&&(r=A,0===Ke&&Je(i)),t}function en(){var t,r,e,n,o,a;if(Ke++,t=Ue,(r=nn())!==A){if(e=[],(n=Cn())!==A)for(;n!==A;)e.push(n),n=Cn();else e=A;if(e!==A)if((n=function(){var t,r;h.substr(Ue,3).toLowerCase()===kr?(t=h.substr(Ue,3),Ue+=3):(t=A,0===Ke&&Je(Gr));t===A&&(t=Ue,h.substr(Ue,2)===Wr?(r=Wr,Ue+=2):(r=A,0===Ke&&Je($r)),r!==A&&(Ze=t,r=Vr()),t=r);return t}())!==A){if(o=[],(a=Cn())!==A)for(;a!==A;)o.push(a),a=Cn();else o=A;t=o!==A&&(a=en())!==A?(Ze=t,r=I(r,a)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A}else Ue=t,t=A;return t===A&&(t=nn()),Ke--,t===A&&(r=A,0===Ke&&Je(p)),t}function nn(){var t,r,e,n,o;if(Ke++,(t=function(){var t,r,e,n;Ke++,t=Ue,t=(r=Tn())!==A?(n=yn(),n!==A?((e=Sn())===A&&(e=function(){var t;h.substr(Ue,2)===ae?(t=ae,Ue+=2):(t=A,0===Ke&&Je(ie));return t}())===A&&(e=function(){var t;h.substr(Ue,2)===ce?(t=ce,Ue+=2):(t=A,0===Ke&&Je(ue));return t}())===A&&(e=function(){var t;62===h.charCodeAt(Ue)?(t=Tr,Ue++):(t=A,0===Ke&&Je(Er));return t}())===A&&(e=function(){var t;h.substr(Ue,2)===se?(t=se,Ue+=2):(t=A,0===Ke&&Je(fe));return t}())===A&&(e=function(){var t;60===h.charCodeAt(Ue)?(t=mr,Ue++):(t=A,0===Ke&&Je(yr));return t}()),e!==A?yn()!==A?(n=Pn())!==A?(Ze=t,r=C(r,e,n)):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A)):(Ue=t,A);t===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,2).toLowerCase()===we?(t=h.substr(Ue,2),Ue+=2):(t=A,0===Ke&&Je(Fe));return t}()!==A?mn()!==A?xn()!==A?yn()!==A?(e=on())!==A?yn()!==A?Rn()!==A?(Ze=t,r=T(r,e)):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(g));return t}())===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,6).toLowerCase()===Se?(t=h.substr(Ue,6),Ue+=6):(t=A,0===Ke&&Je(De));return t}()!==A?mn()!==A?xn()!==A?yn()!==A?(e=on())!==A?yn()!==A?Rn()!==A?(Ze=t,r=_(r,e)):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(E));return t}())===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,4).toLowerCase()===Ne?(t=h.substr(Ue,4),Ue+=4):(t=A,0===Ke&&Je(xe));return t}()!==A?mn()!==A?(e=bn())!==A?(Ze=t,r=D(r,e)):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(S));return t}())===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,8).toLowerCase()===Re?(t=h.substr(Ue,8),Ue+=8):(t=A,0===Ke&&Je(Oe));return t}()!==A?mn()!==A?(e=bn())!==A?(Ze=t,r=x(r,e)):(Ue=t,A):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(N));return t}())===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,6).toLowerCase()===Le?(t=h.substr(Ue,6),Ue+=6):(t=A,0===Ke&&Je(Me));return t}()!==A?(Ze=t,r=O(r)):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(R));return t}())===A&&(t=function(){var t,r,e;Ke++,t=Ue,t=(r=Tn())!==A?(e=mn(),e!==A?function(){var t;h.substr(Ue,10).toLowerCase()===je?(t=h.substr(Ue,10),Ue+=10):(t=A,0===Ke&&Je(He));return t}()!==A?(Ze=t,r=M(r)):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(r=A,0===Ke&&Je(L));return t}());Ke--,t===A&&(r=A,0===Ke&&Je(y));return t}())===A)if(t=Ue,xn()!==A){for(r=[],e=Cn();e!==A;)r.push(e),e=Cn();if(r!==A)if((e=rn())!==A){for(n=[],o=Cn();o!==A;)n.push(o),o=Cn();t=n!==A&&(o=Rn())!==A?(Ze=t,m(e)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A}else Ue=t,t=A;return Ke--,t===A&&(0===Ke&&Je(a)),t}function on(){var t,r,e,n;if(Ke++,t=Ue,(r=Pn())!==A){for(e=[],n=an();n!==A;)e.push(n),n=an();t=e!==A?(Ze=t,r=P(r,e)):(Ue=t,A)}else Ue=t,t=A;return Ke--,t===A&&(r=A,0===Ke&&Je(o)),t}function an(){var t,r,e;return Ke++,t=Ue,t=yn()!==A?(44===h.charCodeAt(Ue)?(r=b,Ue++):(r=A,0===Ke&&Je(w)),r!==A&&yn()!==A&&(e=Pn())!==A?(Ze=t,F(e)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(0===Ke&&Je(n)),t}function cn(){var t;return Ke++,(t=function(){var t,r,e,n,o,a,i,c,u,s,f,l;if(Ke++,t=Ue,yn()!==A)if(function(){var t;h.substr(Ue,8).toLowerCase()===Pe?(t=h.substr(Ue,8),Ue+=8):(t=A,0===Ke&&Je(be));return t}()!==A)if(mn()!==A)if((r=gn())!==A)if(mn()!==A)if(h.substr(Ue,5).toLowerCase()===q?(e=h.substr(Ue,5),Ue+=5):(e=A,0===Ke&&Je(J)),e!==A)if(yn()!==A)if(Sn()!==A)if(yn()!==A)if((e=ln())!==A){for(n=[],o=Ue,a=mn(),o=a!==A?(h.substr(Ue,3).toLowerCase()===Q?(i=h.substr(Ue,3),Ue+=3):(i=A,0===Ke&&Je(tt)),i!==A?(c=yn())!==A?(u=Sn())!==A?(s=yn())!==A?(f=ln())!==A?(l=yn())!==A?a=[a,i,c,u,s,f,l]:(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A)):(Ue=o,A);o!==A;)n.push(o),o=Ue,a=mn(),o=a!==A?(h.substr(Ue,3).toLowerCase()===Q?(i=h.substr(Ue,3),Ue+=3):(i=A,0===Ke&&Je(tt)),i!==A?(c=yn())!==A?(u=Sn())!==A?(s=yn())!==A?(f=ln())!==A?(l=yn())!==A?a=[a,i,c,u,s,f,l]:(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A):(Ue=o,A)):(Ue=o,A);t=n!==A?(Ze=t,rt(r,e,n)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;Ke--,t===A&&(0===Ke&&Je(X));return t}())===A&&(t=function(){var t,r,e,n,o;if(Ke++,t=Ue,yn()!==A)if(function(){var t;h.substr(Ue,4).toLowerCase()===Ee?(t=h.substr(Ue,4),Ue+=4):(t=A,0===Ke&&Je(_e));return t}()!==A)if(mn()!==A)if((r=Dn())===A&&(r=Nn()),r===A&&(r=null),r!==A)if((e=gn())!==A){for(n=[],o=fn();o!==A;)n.push(o),o=fn();t=n!==A?(Ze=t,W(r,e,n)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;Ke--,t===A&&(0===Ke&&Je(G));return t}())===A&&(t=function(){var t,r,e,n;if(Ke++,t=Ue,yn()!==A)if(function(){var t;h.substr(Ue,6).toLowerCase()===ye?(t=h.substr(Ue,6),Ue+=6):(t=A,0===Ke&&Je(Ce));return t}()!==A)if(mn()!==A)if((r=un())!==A){for(e=[],n=sn();n!==A;)e.push(n),n=sn();t=e!==A?(Ze=t,U(r,e)):(Ue=t,A)}else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;else Ue=t,t=A;Ke--,t===A&&(0===Ke&&Je(H));return t}())===A&&(t=function(){var t,r;Ke++,t=Ue,t=yn()!==A?(r=function(){var t;h.substr(Ue,4).toLowerCase()===ge?(t=h.substr(Ue,4),Ue+=4):(t=A,0===Ke&&Je(Te));return t}(),r!==A?mn()!==A?(r=wn())!==A?(Ze=t,k(r)):(Ue=t,A):(Ue=t,A):(Ue=t,A)):(Ue=t,A);Ke--,t===A&&(0===Ke&&Je(K));return t}()),Ke--,t===A&&(0===Ke&&Je(j)),t}function un(){var t,r,e,n,o;return Ke++,t=Ue,(r=mn())===A&&(r=null),t=r!==A?((e=Dn())===A&&(e=Nn()),e===A&&(e=null),e!==A?((n=mn())===A&&(n=null),n!==A&&(o=gn())!==A?(Ze=t,r=Y(e,o)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(r=A,0===Ke&&Je(Z)),t}function sn(){var t,r,e;return Ke++,t=Ue,t=yn()!==A?(44===h.charCodeAt(Ue)?(r=b,Ue++):(r=A,0===Ke&&Je(w)),r!==A&&yn()!==A&&(e=un())!==A?(Ze=t,B(e)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(0===Ke&&Je(z)),t}function fn(){var t,r,e;return Ke++,t=Ue,t=yn()!==A?(44===h.charCodeAt(Ue)?(r=b,Ue++):(r=A,0===Ke&&Je(w)),r!==A&&yn()!==A?((r=Dn())===A&&(r=Nn()),r===A&&(r=null),r!==A&&(e=gn())!==A?(Ze=t,V(r,e)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(0===Ke&&Je($)),t}function ln(){var t,r,e,n;return Ke++,(t=An())===A&&(t=dn())===A&&(t=hn())===A&&(t=Ue,34===h.charCodeAt(Ue)?(r=nt,Ue++):(r=A,0===Ke&&Je(ot)),(t=r!==A?((e=vn())===A&&(e=pn())===A&&(e=dn())===A&&(e=hn())===A&&(e=An()),e!==A?(34===h.charCodeAt(Ue)?(n=nt,Ue++):(n=A,0===Ke&&Je(ot)),n!==A?(Ze=t,r=at(e)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A))===A&&(t=Ue,39===h.charCodeAt(Ue)?(r=it,Ue++):(r=A,0===Ke&&Je(ct)),t=r!==A?((e=vn())===A&&(e=pn())===A&&(e=dn())===A&&(e=hn())===A&&(e=An()),e!==A?(39===h.charCodeAt(Ue)?(n=it,Ue++):(n=A,0===Ke&&Je(ct)),n!==A?(Ze=t,r=at(e)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A))),Ke--,t===A&&(r=A,0===Ke&&Je(et)),t}function dn(){var t,r,e,n;return Ke++,t=Ue,h.substr(Ue,4)===st?(r=st,Ue+=4):(r=A,0===Ke&&Je(ft)),t=r!==A&&(e=wn())!==A&&(n=function(){var t,r;Ke++,t=Ue,121===h.charCodeAt(Ue)?(r=It,Ue++):(r=A,0===Ke&&Je(mt));r===A&&(77===h.charCodeAt(Ue)?(r=yt,Ue++):(r=A,0===Ke&&Je(Ct)),r===A&&(119===h.charCodeAt(Ue)?(r=gt,Ue++):(r=A,0===Ke&&Je(Tt)),r===A&&(100===h.charCodeAt(Ue)?(r=Et,Ue++):(r=A,0===Ke&&Je(_t)),r===A&&(104===h.charCodeAt(Ue)?(r=Pt,Ue++):(r=A,0===Ke&&Je(bt)),r===A&&(72===h.charCodeAt(Ue)?(r=wt,Ue++):(r=A,0===Ke&&Je(Ft)),r===A&&(109===h.charCodeAt(Ue)?(r=St,Ue++):(r=A,0===Ke&&Je(Dt)),r===A&&(115===h.charCodeAt(Ue)?(r=Nt,Ue++):(r=A,0===Ke&&Je(xt)))))))));r!==A&&(Ze=t,r=Rt());Ke--,(t=r)===A&&(r=A,0===Ke&&Je(pt));return t}())!==A?(Ze=t,r=lt(e,n)):(Ue=t,A),Ke--,t===A&&(r=A,0===Ke&&Je(ut)),t}function hn(){var t,r;return Ke++,t=Ue,h.substr(Ue,3)===ht?(r=ht,Ue+=3):(r=A,0===Ke&&Je(At)),r!==A&&(Ze=t,r=vt()),Ke--,(t=r)===A&&(r=A,0===Ke&&Je(dt)),t}function An(){var t,r;return Ke++,t=Ue,(r=wn())!==A&&(Ze=t,r=Lt(r)),Ke--,(t=r)===A&&(r=A,0===Ke&&Je(Ot)),t}function vn(){var t,r,e,n,o,a,i,c,u,s,f,l,d;return Ke++,t=Ue,t=(r=In())!==A?(45===h.charCodeAt(Ue)?(e=jt,Ue++):(e=A,0===Ke&&Je(Ht)),e!==A&&(n=In())!==A?(45===h.charCodeAt(Ue)?(o=jt,Ue++):(o=A,0===Ke&&Je(Ht)),o!==A&&(a=In())!==A?(84===h.charCodeAt(Ue)?(i=Ut,Ue++):(i=A,0===Ke&&Je(Zt)),i!==A&&(c=In())!==A?(58===h.charCodeAt(Ue)?(u=Yt,Ue++):(u=A,0===Ke&&Je(zt)),u!==A&&(s=In())!==A?(58===h.charCodeAt(Ue)?(f=Yt,Ue++):(f=A,0===Ke&&Je(zt)),f!==A&&(l=In())!==A&&(d=function(){var t,r,e,n;Ke++,t=Ue,43===h.charCodeAt(Ue)?(r=qt,Ue++):(r=A,0===Ke&&Je(Jt));r===A&&(45===h.charCodeAt(Ue)?(r=jt,Ue++):(r=A,0===Ke&&Je(Ht)));if(r!==A){if(e=[],Wt.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je($t)),n!==A)for(;n!==A;)e.push(n),Wt.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je($t));else e=A;t=e!==A?(h.substr(Ue,2)===Qt?(n=Qt,Ue+=2):(n=A,0===Ke&&Je(tr)),n===A&&(h.substr(Ue,3)===rr?(n=rr,Ue+=3):(n=A,0===Ke&&Je(er))),n===A&&(n=null),n!==A?(Ze=t,r=nr(r,e,n)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;Ke--,t===A&&(r=A,0===Ke&&Je(Xt));return t}())!==A?(Ze=t,r=Bt(r,n,a,c,s,l,d)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(r=A,0===Ke&&Je(Mt)),t}function pn(){var t,r,e,n,o,a,i,c,u,s,f;return Ke++,t=Ue,t=(r=In())!==A?(45===h.charCodeAt(Ue)?(e=jt,Ue++):(e=A,0===Ke&&Je(Ht)),e!==A&&(n=In())!==A?(45===h.charCodeAt(Ue)?(o=jt,Ue++):(o=A,0===Ke&&Je(Ht)),o!==A&&(a=In())!==A&&mn()!==A&&(i=In())!==A?(58===h.charCodeAt(Ue)?(c=Yt,Ue++):(c=A,0===Ke&&Je(zt)),c!==A&&(u=In())!==A?(58===h.charCodeAt(Ue)?(s=Yt,Ue++):(s=A,0===Ke&&Je(zt)),s!==A&&(f=In())!==A?(Ze=t,r=kt(r,n,a,i,u,f)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(r=A,0===Ke&&Je(Kt)),t}function In(){var t,r,e;if(Ke++,t=Ue,r=[],Wt.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je($t)),e!==A)for(;e!==A;)r.push(e),Wt.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je($t));else r=A;return r!==A&&(Ze=t,r=Vt(r)),Ke--,(t=r)===A&&(r=A,0===Ke&&Je(Gt)),t}function mn(){var t,r=[];if(or.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je(ar)),t!==A)for(;t!==A;)r.push(t),or.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je(ar));else r=A;return r}function yn(){var t,r=[];for(or.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je(ar));t!==A;)r.push(t),or.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je(ar));return r}function Cn(){var t;return ir.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je(cr)),t}function gn(){var t,r,e;if(Ke++,t=Ue,r=[],dr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(hr)),e!==A)for(;e!==A;)r.push(e),dr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(hr));else r=A;return r!==A&&(Ze=t,r=Ar(r)),Ke--,(t=r)===A&&(r=A,0===Ke&&Je(lr)),t}function Tn(){var t,r,e;if(Ke++,t=Ue,r=[],dr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(hr)),e!==A)for(;e!==A;)r.push(e),dr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(hr));else r=A;return t=r!==A?((e=function(){var t,r,e,n,o;Ke++,t=Ue,60===h.charCodeAt(Ue)?(r=mr,Ue++):(r=A,0===Ke&&Je(yr));if(r!==A){if(e=[],Cr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(gr)),n!==A)for(;n!==A;)e.push(n),Cr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(gr));else e=A;t=e!==A?((n=function(){var t,r,e,n;Ke++,t=Ue,60===h.charCodeAt(Ue)?(r=mr,Ue++):(r=A,0===Ke&&Je(yr));if(r!==A){if(e=[],br.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(wr)),n!==A)for(;n!==A;)e.push(n),br.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(wr));else e=A;t=e!==A?(62===h.charCodeAt(Ue)?(n=Tr,Ue++):(n=A,0===Ke&&Je(Er)),n!==A?(Ze=t,r=Fr(e)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;Ke--,t===A&&(r=A,0===Ke&&Je(Pr));return t}())===A&&(n=null),n!==A?(62===h.charCodeAt(Ue)?(o=Tr,Ue++):(o=A,0===Ke&&Je(Er)),o!==A?(Ze=t,r=_r(e,n)):(Ue=t,A)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;Ke--,t===A&&(r=A,0===Ke&&Je(Ir));return t}())===A&&(e=null),e!==A?(Ze=t,r=pr(r,e)):(Ue=t,A)):(Ue=t,A),Ke--,t===A&&(r=A,0===Ke&&Je(vr)),t}function En(){var t,r,e,n;if(Ke++,r=t=Ue,e=[],Dr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Nr)),n!==A)for(;n!==A;)e.push(n),Dr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Nr));else e=A;return(r=e!==A?h.substring(r,Ue):e)!==A&&(Ze=t,r=xr(r)),Ke--,(t=r)===A&&(r=A,0===Ke&&Je(Sr)),t}function _n(){var t,r,e;if(Ke++,t=Ue,r=[],Or.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Lr)),e!==A)for(;e!==A;)r.push(e),Or.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Lr));else r=A;return t=r!==A?h.substring(t,Ue):r,Ke--,t===A&&(r=A,0===Ke&&Je(Rr)),t}function Pn(){var t,r,e,n;if(Ke++,(t=En())===A){if(t=Ue,34===h.charCodeAt(Ue)?(r=nt,Ue++):(r=A,0===Ke&&Je(ot)),r!==A){if(e=[],(n=_n())===A&&(jr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Hr))),n!==A)for(;n!==A;)e.push(n),(n=_n())===A&&(jr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Hr)));else e=A;t=e!==A?(34===h.charCodeAt(Ue)?(n=nt,Ue++):(n=A,0===Ke&&Je(ot)),n!==A?(Ze=t,r=Ur(e)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;if(t===A){if(t=Ue,39===h.charCodeAt(Ue)?(r=it,Ue++):(r=A,0===Ke&&Je(ct)),r!==A){if(e=[],(n=_n())===A&&(Zr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Yr))),n!==A)for(;n!==A;)e.push(n),(n=_n())===A&&(Zr.test(h.charAt(Ue))?(n=h.charAt(Ue),Ue++):(n=A,0===Ke&&Je(Yr)));else e=A;t=e!==A?(39===h.charCodeAt(Ue)?(n=it,Ue++):(n=A,0===Ke&&Je(ct)),n!==A?(Ze=t,r=Ur(e)):(Ue=t,A)):(Ue=t,A)}else Ue=t,t=A;t===A&&(t=Ue,34===h.charCodeAt(Ue)?(r=nt,Ue++):(r=A,0===Ke&&Je(ot)),(t=r!==A?(34===h.charCodeAt(Ue)?(e=nt,Ue++):(e=A,0===Ke&&Je(ot)),e!==A?(Ze=t,r=zr()):(Ue=t,A)):(Ue=t,A))===A&&(t=Ue,39===h.charCodeAt(Ue)?(r=it,Ue++):(r=A,0===Ke&&Je(ct)),t=r!==A?(39===h.charCodeAt(Ue)?(e=it,Ue++):(e=A,0===Ke&&Je(ct)),e!==A?(Ze=t,r=Br()):(Ue=t,A)):(Ue=t,A)))}}return Ke--,t===A&&(r=A,0===Ke&&Je(Mr)),t}function bn(){var t,r,e,n=En();if(n===A){if(n=Ue,34===h.charCodeAt(Ue)?(t=nt,Ue++):(t=A,0===Ke&&Je(ot)),t!==A){if(r=[],(e=_n())===A&&(jr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Hr))),e!==A)for(;e!==A;)r.push(e),(e=_n())===A&&(jr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Hr)));else r=A;n=r!==A?(34===h.charCodeAt(Ue)?(e=nt,Ue++):(e=A,0===Ke&&Je(ot)),e!==A?(Ze=n,t=Ur(r)):(Ue=n,A)):(Ue=n,A)}else Ue=n,n=A;if(n===A){if(n=Ue,39===h.charCodeAt(Ue)?(t=it,Ue++):(t=A,0===Ke&&Je(ct)),t!==A){if(r=[],(e=_n())===A&&(Zr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Yr))),e!==A)for(;e!==A;)r.push(e),(e=_n())===A&&(Zr.test(h.charAt(Ue))?(e=h.charAt(Ue),Ue++):(e=A,0===Ke&&Je(Yr)));else r=A;n=r!==A?(39===h.charCodeAt(Ue)?(e=it,Ue++):(e=A,0===Ke&&Je(ct)),e!==A?(Ze=n,t=Ur(r)):(Ue=n,A)):(Ue=n,A)}else Ue=n,n=A;n===A&&(n=Ue,34===h.charCodeAt(Ue)?(t=nt,Ue++):(t=A,0===Ke&&Je(ot)),(n=t!==A?(34===h.charCodeAt(Ue)?(r=nt,Ue++):(r=A,0===Ke&&Je(ot)),r!==A?(Ze=n,t=zr()):(Ue=n,A)):(Ue=n,A))===A&&(n=Ue,39===h.charCodeAt(Ue)?(t=it,Ue++):(t=A,0===Ke&&Je(ct)),n=t!==A?(39===h.charCodeAt(Ue)?(r=it,Ue++):(r=A,0===Ke&&Je(ct)),r!==A?(Ze=n,t=Br()):(Ue=n,A)):(Ue=n,A)))}}return n}function wn(){var t,r=Ue,e=[];if(Wt.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je($t)),t!==A)for(;t!==A;)e.push(t),Wt.test(h.charAt(Ue))?(t=h.charAt(Ue),Ue++):(t=A,0===Ke&&Je($t));else e=A;return e!==A&&(Ze=r,e=Kr(e)),r=e}function Fn(){var t;return 124===h.charCodeAt(Ue)?(t=re,Ue++):(t=A,0===Ke&&Je(ee)),t}function Sn(){var t;return 61===h.charCodeAt(Ue)?(t=ne,Ue++):(t=A,0===Ke&&Je(oe)),t}function Dn(){var t;return 43===h.charCodeAt(Ue)?(t=qt,Ue++):(t=A,0===Ke&&Je(Jt)),t}function Nn(){var t;return 45===h.charCodeAt(Ue)?(t=jt,Ue++):(t=A,0===Ke&&Je(Ht)),t}function xn(){var t;return 40===h.charCodeAt(Ue)?(t=le,Ue++):(t=A,0===Ke&&Je(de)),t}function Rn(){var t;return 41===h.charCodeAt(Ue)?(t=he,Ue++):(t=A,0===Ke&&Je(Ae)),t}var On="AND",Ln="OR",Mn="+",jn=":param_",Hn=["IPv4","IPv6","Array","Array<IPv4>","Array<CIDR_IPv4>","Array<IPv6>","Array<CIDR_IPv6>"],Un=72e5,Zn=/^(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)\.(25[0-5]|2[0-4]\d|[0-1]\d{2}|[1-9]?\d)$/,Yn=/^((?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(:[a-fA-F\d]{1,4}){0,1}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(:[a-fA-F\d]{1,4}){0,2}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(:[a-fA-F\d]{1,4}){0,3}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(:[a-fA-F\d]{1,4}){0,4}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(:[a-fA-F\d]{1,4}){1,6}|:)|(?::((?::[a-fA-F\d]{1,4}){0,5}:(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d).(25[0-5]|2[0-4]d|[0-1]d{2}|[1-9]?d)|(?::[a-fA-F\d]{1,4}){1,7}|:)))(%[0-9a-zA-Z]{1,})?$/,zn=[],Bn={},Kn={},kn=(new Date).getTime();function Gn(t,r){if(!t||-1===t.indexOf("/"))return!1;var e=t.split("/");if(2!==e.length)return!1;t=_slicedToArray(e,2),e=t[0],t=t[1];if(!e||isNaN(+t))return!1;t=+t;return"IPv4"===r?!!(Zn.test(e)&&0<t&&t<=32):"IPv6"===r&&!!(Yn.test(e)&&0<t&&t<=128)}function Wn(t){return+t<10?"0".concat(t):t}function $n(t){var r=new Date(t||new Date),e=r.getUTCFullYear(),n=r.getUTCMonth()+1,o=r.getUTCDate(),a=r.getUTCHours(),t=r.getUTCMinutes(),r=r.getUTCSeconds();return e+"-"+Wn(n)+"-"+Wn(o)+" "+Wn(a)+":"+Wn(t)+":"+Wn(r)}function Vn(t,r){var e=Ge(),n=e.start,e=e.end,n=jn+n.line+"_"+n.offset+"_"+e.line+"_"+e.offset,e=n;return"IPv4"===r&&(e="toIPv4(".concat(n,")")),"IPv6"===r&&(e="toIPv6(".concat(n,")")),"Array"===r&&(e="has(".concat(t,", ").concat(n,")=1")),"Array<IPv4>"===r&&(e="has(".concat(t,", toIPv4(").concat(n,"))=1")),"Array<IPv6>"===r&&(e="has(".concat(t,", toIPv6(").concat(n,"))=1")),{paramKey:n,paramName:e}}function Xn(t,r){Kn.hasOwnProperty(t)||(Kn[t.replace(":","")]=r)}function qn(t,r,e,n){var o="".concat(t,"_").concat(r||"","_").concat(e,"_").concat(n);Bn[o]||(Bn[o]={field:t,fieldType:r,operator:e,operand:n})}var Jn=void 0!==(r=t.json)&&r,Qn=void 0===(r=t.hasAgingTime)||r,to=void 0===(t=t.timePrecision)?9:t;if((e=e())!==A&&Ue===h.length)return e;throw e!==A&&Ue<h.length&&Je({type:"end"}),Qe(Be,ze<h.length?h.charAt(ze):null,ze<h.length?qe(ze,ze+1):qe(ze,ze))}}});